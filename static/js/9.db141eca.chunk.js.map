{"version":3,"sources":["app/api/user/lecturerSlice.js","pages/Lecturer/components/LecturerSearchCard/LecturerAddModal.jsx","pages/Lecturer/components/LecturerSearchCard/index.jsx","pages/Lecturer/components/LecturerDetailCard/index.jsx","pages/Lecturer/components/LecturerListCard/index.jsx","pages/Lecturer/index.jsx"],"names":["extendedApi","apiSlice","injectEndpoints","endpoints","builder","searchLecturers","mutation","query","queryStr","url","method","params","role","providesTags","result","map","lecturer","type","LECTURER","id","getLecturerInfo","lecturerId","userId","error","arg","getLecturerMentorGroups","mentorGroup","MENTORGROUP","groupId","concat","MENTORGROUP_LIST","getLecturerFaculty","FACULTY","getLecturerCourses","course","COURSE","COURSE_LIST","addNewLecturer","body","name","password","address","facultyId","displayId","invalidatesTags","LECTURER_LIST","removeLecturer","changeLecturerInfo","changeLecturerFaculty","currentGroupId","currentFacultyId","newGroupId","newFacultyId","useSearchLecturersMutation","useGetLecturerMentorGroupsQuery","useGetLecturerCoursesQuery","useGetLecturerFacultyQuery","useGetLecturerInfoQuery","useAddNewLecturerMutation","useRemoveLecturerMutation","useChangeLecturerInfoMutation","useChangeLecturerFacultyMutation","validationSchema","Yup","shape","required","passwordConfirmation","test","value","this","parent","initialValues","LecturerAddModal","show","handleClose","dispatch","useDispatch","useSearchFacultiesMutation","triggerSearch","triggerAdd","searchFaculties","inputValue","a","unwrap","faculties","faculty","label","groupName","handleSubmit","values","actions","setSelectedLecturerId","console","log","Modal","onHide","Header","closeButton","Title","onSubmit","formikProps","Form","noValidate","onReset","handleReset","Body","component","InputField","placeholder","AsyncSelectField","loadOptions","Footer","Button","variant","onClick","isSubmitting","Spinner","animation","as","size","LecturerSearchCard","trigger","data","selectedLecturerId","useSelector","selectedLecturerIdSelector","useState","addModal","setAddModal","SearchCard","items","selectedItemKey","keySelector","nameSelector","onSearch","onAdd","onSelect","LecturerDetailCard","mentorGroups","mentorIsFetching","isFetching","facultyIsFetching","lecturerInfo","lecturerIsFetching","triggerRemoveLecturer","triggerChangeLecturerInfo","useChangeUserPasswordMutation","triggerChangePassword","triggerChangeFaculty","triggerSearchFaculty","showRemoveWarning","setShowRemoveWarning","showEditInfoModal","setShowEditInfoModal","showChangePasswordModal","setShowChangePasswordModal","showChangeFacultyModal","setShowChangeFacultyModal","DetailCard","fields","content","psid","links","facultyName","destination","buttons","listItems","listItemLabel","linkSelector","EditUserInfoModal","title","ChangePasswordModal","SelectItemModal","handleSearchItems","ConfirmationModal","LecturerListCard","courses","ListCard","courseName","showButtons","LecturerPage","useItemParam","selectedItemId","setSelectedItemId","Row","className","Col","md"],"mappings":"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","file":"static/js/9.db141eca.chunk.js","sourcesContent":["import {\n  COURSE,\n  COURSE_LIST,\n  FACULTY,\n  LECTURER,\n  LECTURER_LIST,\n  MENTORGROUP,\n  MENTORGROUP_LIST,\n} from '../tagConstants'\nimport { apiSlice } from '../index'\n\nconst extendedApi = apiSlice.injectEndpoints({\n  endpoints: (builder) => ({\n    searchLecturers: builder.mutation({\n      query: (queryStr) => ({\n        url: '/user',\n        method: 'GET',\n        params: { role: 'LECTURER', query: queryStr || '' },\n      }),\n      providesTags: (result = [], error, arg) =>\n        result.map((lecturer) => ({ type: LECTURER, id: lecturer.id })),\n    }),\n\n    getLecturerInfo: builder.query({\n      query: (lecturerId) => ({\n        url: '/user/info',\n        method: 'GET',\n        params: { userId: lecturerId },\n      }),\n      providesTags: (result, error, arg) => [{ type: LECTURER, id: arg }],\n    }),\n\n    getLecturerMentorGroups: builder.query({\n      query: (lecturerId) => ({\n        url: '/lecturer/mentor',\n        method: 'GET',\n        params: { lecturerId },\n      }),\n      providesTags: (result = {}, error, arg) =>\n        result\n          .map((mentorGroup) => ({\n            type: MENTORGROUP,\n            id: mentorGroup.groupId,\n          }))\n          .concat([{ type: MENTORGROUP_LIST, id: arg }]),\n    }),\n\n    getLecturerFaculty: builder.query({\n      query: (lecturerId) => ({\n        url: '/user/faculty',\n        method: 'GET',\n        params: { userId: lecturerId },\n      }),\n      providesTags: (result = {}, error, arg) => [\n        { type: FACULTY, id: result.groupId },\n        { type: LECTURER, id: arg },\n      ],\n    }),\n\n    getLecturerCourses: builder.query({\n      query: (lecturerId) => ({\n        url: '/lecturer/course',\n        method: 'GET',\n        params: { lecturerId },\n      }),\n      providesTags: (result = [], error, arg) =>\n        result\n          .map((course) => ({\n            type: COURSE,\n            id: course.groupId,\n          }))\n          .concat([{ type: COURSE_LIST, id: arg }]),\n    }),\n\n    addNewLecturer: builder.mutation({\n      query: ({ name, password, address, facultyId, displayId }) => ({\n        url: '/user',\n        method: 'POST',\n        body: {\n          name,\n          password,\n          role: 'LECTURER',\n          address,\n          facultyId,\n          displayId,\n        },\n      }),\n      invalidatesTags: (result, error, arg) => [\n        { type: LECTURER_LIST, id: arg.facultyId },\n      ],\n    }),\n\n    removeLecturer: builder.mutation({\n      query: ({ userId }) => ({\n        url: '/user',\n        method: 'DELETE',\n        params: { userId },\n      }),\n      invalidatesTags: (result = [], error, arg) => [\n        { type: LECTURER, id: arg.userId },\n      ],\n    }),\n\n    changeLecturerInfo: builder.mutation({\n      query: ({ id, name, address, displayId }) => ({\n        url: '/user',\n        method: 'PUT',\n        body: { id, name, address, displayId },\n      }),\n      invalidatesTags: (result, error, arg) => [\n        {\n          type: LECTURER,\n          id: arg.id,\n        },\n      ],\n    }),\n\n    changeLecturerFaculty: builder.mutation({\n      query: ({ id, currentFacultyId, newFacultyId }) => ({\n        url: '/user/group',\n        method: 'PUT',\n        body: {\n          userId: id,\n          currentGroupId: currentFacultyId,\n          newGroupId: newFacultyId,\n        },\n      }),\n      invalidatesTags: (result, error, arg) => [\n        { type: LECTURER, id: arg.id },\n        { type: LECTURER_LIST, id: arg.currentFacultyId },\n        { type: LECTURER_LIST, id: arg.newFacultyId },\n      ],\n    }),\n  }),\n})\n\nexport const {\n  useSearchLecturersMutation,\n  useGetLecturerMentorGroupsQuery,\n  useGetLecturerCoursesQuery,\n  useGetLecturerFacultyQuery,\n  useGetLecturerInfoQuery,\n  useAddNewLecturerMutation,\n  useRemoveLecturerMutation,\n  useChangeLecturerInfoMutation,\n  useChangeLecturerFacultyMutation,\n} = extendedApi\n","import * as Yup from 'yup'\nimport { FastField, Formik } from 'formik'\nimport { Modal, Button, Form, Spinner } from 'react-bootstrap'\nimport InputField from '../../../../components/custom-fields/InputField'\nimport AsyncSelectField from '../../../../components/custom-fields/AsyncSelectField'\nimport { useSearchFacultiesMutation } from '../../../../app/api/group/facultySlice'\nimport { useAddNewLecturerMutation } from '../../../../app/api/user/lecturerSlice'\nimport { setSelectedLecturerId } from '../../../../app/pageSlice'\nimport { useDispatch } from 'react-redux'\n\nconst validationSchema = Yup.object().shape({\n  displayId: Yup.string().required('This field is required.'),\n  name: Yup.string().required('This field is required.'),\n  password: Yup.string().required('This field is required.'),\n  passwordConfirmation: Yup.string().test(\n    'passwords-match',\n    'Passwords must match',\n    function (value) {\n      return this.parent.password === value\n    },\n  ),\n  address: Yup.string().required('This field is required.'),\n  facultyId: Yup.string().required('This field is required.'),\n})\n\nconst initialValues = {\n  displayId: '',\n  name: '',\n  password: '',\n  passwordConfirmation: '',\n  address: '',\n  facultyId: '',\n}\n\nconst LecturerAddModal = ({ show, handleClose }) => {\n  const dispatch = useDispatch()\n  const [triggerSearch] = useSearchFacultiesMutation()\n  const [triggerAdd] = useAddNewLecturerMutation()\n\n  const searchFaculties = async (inputValue) => {\n    const faculties = await triggerSearch(inputValue).unwrap()\n    return faculties.map((faculty) => ({\n      value: faculty.groupId,\n      label: faculty.groupName,\n    }))\n  }\n\n  const handleSubmit = async (values, actions) => {\n    try {\n      const { userId } = await triggerAdd(values).unwrap()\n      handleClose()\n      dispatch(setSelectedLecturerId(userId))\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>Add new lecturer</Modal.Title>\n      </Modal.Header>\n      <Formik\n        initialValues={initialValues}\n        onSubmit={handleSubmit}\n        validationSchema={validationSchema}\n      >\n        {(formikProps) => (\n          <Form\n            noValidate\n            onSubmit={formikProps.handleSubmit}\n            onReset={formikProps.handleReset}\n          >\n            <Modal.Body>\n              <FastField\n                name=\"displayId\"\n                component={InputField}\n                label=\"Lecturer ID\"\n                placeholder=\"lecturera...\"\n              />\n              <FastField\n                name=\"name\"\n                component={InputField}\n                label=\"Name\"\n                placeholder=\"Le Van A...\"\n              />\n              <FastField\n                name=\"address\"\n                component={InputField}\n                label=\"Address\"\n                placeholder=\"District 5, Ho Chi Minh City...\"\n              />\n              <FastField\n                name=\"password\"\n                component={InputField}\n                placeholder=\"New password...\"\n                type=\"password\"\n                label=\"Password\"\n              />\n              <FastField\n                name=\"passwordConfirmation\"\n                component={InputField}\n                placeholder=\"Type password again...\"\n                type=\"password\"\n                label=\"Password confirmation\"\n              />\n              <FastField\n                name=\"facultyId\"\n                component={AsyncSelectField}\n                loadOptions={searchFaculties}\n                label=\"Faculty\"\n              />\n            </Modal.Body>\n\n            <Modal.Footer>\n              <Button variant=\"secondary\" onClick={handleClose}>\n                Cancel\n              </Button>\n              <Button variant=\"primary\" type=\"submit\">\n                {formikProps.isSubmitting && (\n                  <Spinner\n                    animation=\"border\"\n                    as=\"span\"\n                    role=\"status\"\n                    size=\"sm\"\n                  />\n                )}\n                Submit\n              </Button>\n            </Modal.Footer>\n          </Form>\n        )}\n      </Formik>\n    </Modal>\n  )\n}\n\nexport default LecturerAddModal\n","import { Fragment, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useSearchLecturersMutation } from '../../../../app/api/user/lecturerSlice'\nimport {\n  selectedLecturerIdSelector,\n  setSelectedLecturerId,\n} from '../../../../app/pageSlice'\nimport SearchCard from '../../../../components/SearchCard'\nimport LecturerAddModal from './LecturerAddModal'\n\nconst LecturerSearchCard = () => {\n  const dispatch = useDispatch()\n  const [trigger, query] = useSearchLecturersMutation()\n  const { data } = query\n  const selectedLecturerId = useSelector(selectedLecturerIdSelector)\n  const [addModal, setAddModal] = useState(false)\n\n  return (\n    <Fragment>\n      <SearchCard\n        label=\"Lecturer\"\n        items={data}\n        selectedItemKey={selectedLecturerId}\n        keySelector={(lecturer) => lecturer.id}\n        nameSelector={(lecturer) => lecturer.name}\n        // showKey={true}\n        onSearch={(query) => trigger(query)}\n        onAdd={() => setAddModal(true)}\n        onSelect={(lecturer) => dispatch(setSelectedLecturerId(lecturer.id))}\n      />\n      <LecturerAddModal\n        show={addModal}\n        handleClose={() => setAddModal(false)}\n      />\n    </Fragment>\n  )\n}\n\nexport default LecturerSearchCard\n","import { Fragment, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useSearchFacultiesMutation } from '../../../../app/api/group/facultySlice'\nimport {\n  useChangeLecturerFacultyMutation,\n  useChangeLecturerInfoMutation,\n  useGetLecturerFacultyQuery,\n  useGetLecturerInfoQuery,\n  useGetLecturerMentorGroupsQuery,\n  useRemoveLecturerMutation,\n} from '../../../../app/api/user/lecturerSlice'\nimport { useChangeUserPasswordMutation } from '../../../../app/api/user/studentSlice'\nimport { setSelectedLecturerId } from '../../../../app/pageSlice'\nimport DetailCard from '../../../../components/DetailCard'\nimport ChangePasswordModal from '../../../../components/modals/ChangePasswordModal'\nimport ConfirmationModal from '../../../../components/modals/ConfirmationModal'\nimport EditUserInfoModal from '../../../../components/modals/EditUserInfoModal'\nimport SelectItemModal from '../../../../components/modals/SelectItemModal'\n\nconst LecturerDetailCard = ({ selectedLecturerId }) => {\n  const { data: mentorGroups, isFetching: mentorIsFetching } =\n    useGetLecturerMentorGroupsQuery(selectedLecturerId)\n  const { data: faculty, isFetching: facultyIsFetching } =\n    useGetLecturerFacultyQuery(selectedLecturerId)\n  const { data: lecturerInfo, isFetching: lecturerIsFetching } =\n    useGetLecturerInfoQuery(selectedLecturerId)\n\n  const [triggerRemoveLecturer] = useRemoveLecturerMutation()\n  const [triggerChangeLecturerInfo] = useChangeLecturerInfoMutation()\n  const [triggerChangePassword] = useChangeUserPasswordMutation()\n  const [triggerChangeFaculty] = useChangeLecturerFacultyMutation()\n  const [triggerSearchFaculty] = useSearchFacultiesMutation()\n\n  const [showRemoveWarning, setShowRemoveWarning] = useState(false)\n  const [showEditInfoModal, setShowEditInfoModal] = useState(false)\n  const [showChangePasswordModal, setShowChangePasswordModal] = useState(false)\n  const [showChangeFacultyModal, setShowChangeFacultyModal] = useState(false)\n\n  const isFetching = mentorIsFetching || facultyIsFetching || lecturerIsFetching\n\n  const dispatch = useDispatch()\n\n  if (isFetching) {\n    return <></>\n  }\n\n  return (\n    <Fragment>\n      <DetailCard\n        label=\"Lecturer\"\n        fields={[\n          { label: 'Name', content: lecturerInfo.name },\n          { label: 'ID', content: lecturerInfo.displayId },\n          { label: 'PSID', content: lecturerInfo.psid },\n          { label: 'Address', content: lecturerInfo.address },\n        ]}\n        links={[\n          {\n            label: 'Faculty',\n            content: faculty.facultyName,\n            destination: `/faculty/${faculty.groupId || ''}`,\n          },\n        ]}\n        buttons={[\n          {\n            label: 'Edit basic info',\n            onClick: () => {\n              setShowEditInfoModal(true)\n            },\n          },\n          {\n            label: 'Change password',\n            onClick: () => {\n              setShowChangePasswordModal(true)\n            },\n          },\n          {\n            label: 'Change faculty',\n            onClick: () => {\n              setShowChangeFacultyModal(true)\n            },\n          },\n          {\n            label: 'Remove lecturer',\n            onClick: () => {\n              setShowRemoveWarning(true)\n            },\n          },\n        ]}\n        listItems={mentorGroups}\n        listItemLabel=\"mentor group\"\n        nameSelector={(mentorGroup) => mentorGroup.groupName}\n        keySelector={(mentorGroup) => mentorGroup.groupId}\n        linkSelector={(mentorGroup) => `/mentor/${mentorGroup.groupId}`}\n      />\n      <EditUserInfoModal\n        title=\"Edit lecturer info\"\n        show={showEditInfoModal}\n        handleClose={() => {\n          setShowEditInfoModal(false)\n        }}\n        handleSubmit={async ({ name, address, displayId }) => {\n          await triggerChangeLecturerInfo({\n            id: lecturerInfo.id,\n            name,\n            address,\n            displayId,\n          })\n        }}\n        initialValues={{\n          name: lecturerInfo.name,\n          address: lecturerInfo.address,\n          displayId: lecturerInfo.displayId,\n        }}\n      />\n      <ChangePasswordModal\n        title=\"Change lecturer password\"\n        show={showChangePasswordModal}\n        handleClose={() => {\n          setShowChangePasswordModal(false)\n        }}\n        handleSubmit={async (password) => {\n          await triggerChangePassword({\n            userId: lecturerInfo.id,\n            password,\n          })\n        }}\n      />\n      <SelectItemModal\n        title=\"Change student faculty\"\n        show={showChangeFacultyModal}\n        handleClose={() => {\n          setShowChangeFacultyModal(false)\n        }}\n        handleSubmit={async (newFacultyId) => {\n          await triggerChangeFaculty({\n            id: lecturerInfo.id,\n            currentFacultyId: faculty.groupId,\n            newFacultyId,\n          })\n        }}\n        handleSearchItems={async (query) => {\n          const faculties = await triggerSearchFaculty(query).unwrap()\n          return faculties.map((faculty) => ({\n            value: faculty.groupId,\n            label: faculty.groupName,\n          }))\n        }}\n      />\n\n      <ConfirmationModal\n        title=\"Remove lecturer?\"\n        content=\"Information related to this lecturer cannot be recovered.\"\n        show={showRemoveWarning}\n        handleClose={() => setShowRemoveWarning(false)}\n        handleSubmit={async () => {\n          dispatch(setSelectedLecturerId(null))\n          await triggerRemoveLecturer({ userId: lecturerInfo.id }).unwrap()\n        }}\n      />\n    </Fragment>\n  )\n}\n\nexport default LecturerDetailCard\n","import { useGetLecturerCoursesQuery } from '../../../../app/api/user/lecturerSlice'\nimport ListCard from '../../../../components/ListCard'\n\nconst LecturerListCard = ({ selectedLecturerId }) => {\n  const { data: courses, isFetching } =\n    useGetLecturerCoursesQuery(selectedLecturerId)\n\n  if (isFetching) {\n    return <></>\n  }\n\n  return (\n    <ListCard\n      label=\"Course\"\n      items={courses}\n      keySelector={(course) => course.groupId}\n      nameSelector={(course) => course.courseName}\n      linkSelector={(course) => `/course/${course.groupId}`}\n      showButtons={false}\n    />\n  )\n}\n\nexport default LecturerListCard\n","import useItemParam from '../../hooks/useItemParam'\nimport {\n  selectedLecturerIdSelector,\n  setSelectedLecturerId,\n} from '../../app/pageSlice'\nimport { Row, Col } from 'react-bootstrap'\nimport LecturerSearchCard from './components/LecturerSearchCard'\nimport LecturerDetailCard from './components/LecturerDetailCard'\nimport LecturerListCard from './components/LecturerListCard'\nimport { useDispatch, useSelector } from 'react-redux'\n\nconst LecturerPage = () => {\n  const dispatch = useDispatch()\n  const selectedLecturerId = useSelector(selectedLecturerIdSelector)\n\n  useItemParam({\n    selectedItemId: selectedLecturerId,\n    setSelectedItemId: (lecturerId) => {\n      dispatch(setSelectedLecturerId(lecturerId))\n    },\n  })\n\n  return (\n    <Row className=\"justify-content-md-center my-3\">\n      <Col md=\"3\">\n        <LecturerSearchCard />\n      </Col>\n      {selectedLecturerId ? (\n        <>\n          <Col md=\"4\">\n            <LecturerDetailCard selectedLecturerId={selectedLecturerId} />\n          </Col>\n          <Col md=\"4\">\n            <LecturerListCard selectedLecturerId={selectedLecturerId} />\n          </Col>\n        </>\n      ) : (\n        <>\n          <Col md=\"4\"></Col>\n          <Col md=\"4\"></Col>\n        </>\n      )}\n    </Row>\n  )\n}\n\nexport default LecturerPage\n"],"sourceRoot":""}