(this.webpackJsonpclient_admin=this.webpackJsonpclient_admin||[]).push([[5],{291:function(e,t,n){"use strict";var r=n(39),u=n.n(r),a=n(53),c=n(10),o=n(346),i=n(283),s=n(286),d=n(0),l=n(1);t.a=function(e){var t=e.show,n=e.handleClose,r=e.handleSubmit,p=e.handleError,b=e.title,j=e.content,m=Object(d.useState)(!1),h=Object(c.a)(m,2),f=h[0],O=h[1],v=function(){var e=Object(a.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=10;break}return O(!0),e.prev=2,e.next=5,r();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),p&&p(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)(o.a,{show:t,onHide:n,children:[Object(l.jsx)(o.a.Header,{closeButton:!0,children:Object(l.jsx)(o.a.Title,{children:b})}),Object(l.jsx)(o.a.Body,{children:j}),Object(l.jsxs)(o.a.Footer,{children:[Object(l.jsx)(i.a,{variant:"secondary",onClick:n,children:"Cancel"}),Object(l.jsxs)(i.a,{variant:"primary",onClick:v,children:[f&&Object(l.jsx)(s.a,{animation:"border",as:"span",role:"status",size:"sm"}),"OK"]})]})]})}},292:function(e,t,n){"use strict";var r=n(39),u=n.n(r),a=n(53),c=n(72),o=n(54),i=n(346),s=n(71),d=n(283),l=n(286),p=n(294),b=n(1),j=c.b().shape({itemId:c.c().required("This field is required.")}),m={itemId:""};t.a=function(e){var t=e.title,n=e.show,r=e.handleClose,c=e.handleSubmit,h=e.handleSearchItems,f=function(){var e=Object(a.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(t.itemId);case 3:r(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(b.jsxs)(i.a,{show:n,onHide:r,children:[Object(b.jsx)(i.a.Header,{closeButton:!0,children:Object(b.jsx)(i.a.Title,{children:t})}),Object(b.jsx)(o.c,{initialValues:m,onSubmit:f,validationSchema:j,children:function(e){return Object(b.jsxs)(s.a,{noValidate:!0,onSubmit:e.handleSubmit,onReset:e.handleReset,children:[Object(b.jsx)(i.a.Body,{children:Object(b.jsx)(o.b,{name:"itemId",component:p.a,loadOptions:h})}),Object(b.jsxs)(i.a.Footer,{children:[Object(b.jsx)(d.a,{variant:"secondary",onClick:r,children:"Cancel"}),Object(b.jsxs)(d.a,{variant:"primary",type:"submit",children:[e.isSubmitting&&Object(b.jsx)(l.a,{animation:"border",as:"span",role:"status",size:"sm"}),"Submit"]})]})]})}})]})}},293:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n(37),u=n(64).a.injectEndpoints({endpoints:function(e){return{searchLecturers:e.mutation({query:function(e){return{url:"/user",method:"GET",params:{role:"LECTURER",query:e||""}}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{type:r.d,id:e.id}}))}}),getLecturerInfo:e.query({query:function(e){return{url:"/user/info",method:"GET",params:{userId:e}}},providesTags:function(e,t,n){return[{type:r.d,id:n}]}}),getLecturerMentorGroups:e.query({query:function(e){return{url:"/lecturer/mentor",method:"GET",params:{lecturerId:e}}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return{type:r.f,id:e.groupId}})).concat([{type:r.g,id:t}])}}),getLecturerFaculty:e.query({query:function(e){return{url:"/user/faculty",method:"GET",params:{userId:e}}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;return[{type:r.c,id:e.groupId},{type:r.d,id:t}]}}),getLecturerCourses:e.query({query:function(e){return{url:"/lecturer/course",method:"GET",params:{lecturerId:e}}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return{type:r.a,id:e.groupId}})).concat([{type:r.b,id:t}])}}),addNewLecturer:e.mutation({query:function(e){return{url:"/user",method:"POST",body:{name:e.name,password:e.password,role:"LECTURER",address:e.address,facultyId:e.facultyId,displayId:e.displayId}}},invalidatesTags:function(e,t,n){return[{type:r.e,id:n.facultyId}]}}),removeLecturer:e.mutation({query:function(e){return{url:"/user",method:"DELETE",params:{userId:e.userId}}},invalidatesTags:function(){var e=arguments.length>2?arguments[2]:void 0;return[{type:r.d,id:e.userId}]}}),changeLecturerInfo:e.mutation({query:function(e){return{url:"/user",method:"PUT",body:{id:e.id,name:e.name,address:e.address,displayId:e.displayId}}},invalidatesTags:function(e,t,n){return[{type:r.d,id:n.id}]}}),changeLecturerFaculty:e.mutation({query:function(e){return{url:"/user/group",method:"PUT",body:{userId:e.id,currentGroupId:e.currentFacultyId,newGroupId:e.newFacultyId}}},invalidatesTags:function(e,t,n){return[{type:r.d,id:n.id},{type:r.e,id:n.currentFacultyId},{type:r.e,id:n.newFacultyId}]}})}}}),a=u.useSearchLecturersMutation,c=u.useGetLecturerMentorGroupsQuery,o=u.useGetLecturerCoursesQuery,i=u.useGetLecturerFacultyQuery,s=u.useGetLecturerInfoQuery,d=u.useAddNewLecturerMutation,l=u.useRemoveLecturerMutation,p=u.useChangeLecturerInfoMutation,b=u.useChangeLecturerFacultyMutation},294:function(e,t,n){"use strict";var r=n(54),u=n(71),a=n(305),c=n(1);t.a=function(e){var t=e.field,n=e.form,o=e.label,i=e.placeholder,s=e.disabled,d=e.loadOptions,l=t.name,p=t.onBlur,b=n.errors,j=n.touched,m=b[l]&&j[l];return Object(c.jsxs)(u.a.Group,{className:"mb-3",children:[o&&Object(c.jsx)(u.a.Label,{htmlFor:l,children:o}),Object(c.jsx)(a.a,{id:l,onChange:function(e){var n=e?e.value:e,r={target:{name:l,value:n}};t.onChange(r)},onBlur:p,placeholder:i,loadOptions:d,disabled:s,className:m?"is-invalid":""}),Object(c.jsx)(r.a,{name:l,render:function(e){return Object(c.jsx)(u.a.Control.Feedback,{type:"invalid",children:e})}})]})}},296:function(e,t,n){"use strict";var r=n(10),u=n(0),a=n(352),c=n(288),o=n(156),i=n(71),s=n(283),d=n(1);t.a=function(e){var t=e.label,n=e.items,l=void 0===n?[]:n,p=e.selectedItemKey,b=e.keySelector,j=e.nameSelector,m=e.showKey,h=e.onSearch,f=e.onAdd,O=e.onSelect;Object(u.useEffect)((function(){p||h(p)}),[]);var v=Object(u.useState)(""),y=Object(r.a)(v,2),g=y[0],I=y[1],x=l.filter((function(e){return b(e).toUpperCase().includes(g.toUpperCase())||j(e).toUpperCase().includes(g.toUpperCase())})).map((function(e){var t=b(e),n=j(e);return Object(d.jsx)(a.a.Item,{active:t===p,action:!0,onClick:function(){return O(e)},className:"user-select-none",children:Object(d.jsxs)("div",{className:"d-flex justify-content-between",children:[n,m?Object(d.jsx)("div",{children:t}):null]})},t)}));return Object(d.jsxs)(c.a,{border:"secondary",children:[Object(d.jsxs)(c.a.Header,{className:"d-flex justify-content-between",children:[Object(d.jsx)(o.a,{className:"flex-grow-1",label:t,children:Object(d.jsx)(i.a.Control,{placeholder:"placeholder",value:g,onChange:function(e){return I(e.target.value)}})}),Object(d.jsx)(s.a,{variant:"secondary",className:"mx-1",onClick:function(){h(g),I("")},children:"Find"}),Object(d.jsx)(s.a,{variant:"secondary",onClick:f,children:"Add"})]}),0!==x.length?Object(d.jsx)(a.a,{variant:"flush",children:x}):null,Object(d.jsx)(c.a.Footer,{className:"text-muted text-center",children:"Found ".concat(x.length," ").concat(t.toLowerCase())})]})}},297:function(e,t,n){"use strict";var r=n(352),u=n(288),a=n(343),c=n(337),o=n(71),i=n(344),s=n(155),d=n(151),l=n(8),p=n(33),b=n(1);t.a=function(e){var t=e.label,n=e.buttons,j=void 0===n?[]:n,m=e.fields,h=void 0===m?[]:m,f=e.links,O=void 0===f?[]:f,v=e.listItems,y=void 0===v?[]:v,g=e.listItemLabel,I=e.keySelector,x=e.nameSelector,S=e.linkSelector,C=Object(l.h)(),w=y.map((function(e){var t;return Object(b.jsx)(r.a.Item,{children:Object(b.jsxs)("div",{className:"d-flex justify-content-between",children:[null!==(t=x(e))&&void 0!==t?t:"[unnamed ".concat(g.toLowerCase(),"]"),Object(b.jsx)(p.c,{to:S(e),children:"Go to ".concat(g.toLowerCase())})]})},I(e))}));return Object(b.jsxs)(u.a,{border:"secondary",children:[Object(b.jsxs)(u.a.Header,{className:"d-flex justify-content-between align-items-center",children:[Object(b.jsxs)("h1",{className:"display-6 flex-grow-1",children:[t," details"]}),Object(b.jsx)(a.a,{variant:"secondary",title:"Options",children:j.map((function(e){var t=e.label,n=e.onClick;return Object(b.jsx)(c.a.Item,{onClick:n,children:t},t)}))})]}),Object(b.jsxs)(u.a.Body,{children:[h.map((function(e){var t=e.label,n=e.content;return Object(b.jsxs)(o.a.Group,{as:i.a,className:"mb-1",children:[Object(b.jsxs)(o.a.Label,{column:!0,sm:"3",children:[t,":"]}),Object(b.jsx)(s.a,{sm:"9",children:Object(b.jsx)(o.a.Control,{plaintext:!0,readOnly:!0,className:n?"":"text-muted",value:null!==n&&void 0!==n?n:"[not available]"})})]},t)})),O.map((function(e){var t=e.label,n=e.content,r=e.destination;return Object(b.jsxs)(o.a.Group,{as:i.a,className:"mb-1",children:[Object(b.jsxs)(o.a.Label,{column:!0,sm:"3",children:[t,":"]}),Object(b.jsx)(s.a,{sm:"9",children:n?Object(b.jsx)(d.a,{className:"px-0",onClick:function(){return C(r)},children:n}):Object(b.jsx)(d.a,{className:"text-muted px-0",children:"[not available]"})})]},t)}))]}),0!==w.length?Object(b.jsx)(r.a,{variant:"flush",children:w}):null]})}},298:function(e,t,n){"use strict";var r=n(39),u=n.n(r),a=n(53),c=n(10),o=n(0),i=n(352),s=n(288),d=n(156),l=n(71),p=n(283),b=n(33),j=n(291),m=n(292),h=n(1);t.a=function(e){var t=e.label,n=e.items,r=e.keySelector,f=e.nameSelector,O=e.linkSelector,v=e.showButtons,y=e.handleRemove,g=e.handleAdd,I=e.handleSearchItems,x=Object(o.useState)(""),S=Object(c.a)(x,2),C=S[0],w=S[1],T=Object(o.useState)({}),q=Object(c.a)(T,2),k=q[0],N=q[1],L=Object(o.useState)(!1),G=Object(c.a)(L,2),E=G[0],F=G[1],M=Object(o.useState)(!1),U=Object(c.a)(M,2),R=U[0],P=U[1],A=Object(o.useState)(),B=Object(c.a)(A,2),D=B[0],H=B[1],Q=n.map((function(e){return r(e)})),V=n.filter((function(e){return r(e).toUpperCase().includes(C.toUpperCase())||f(e).toUpperCase().includes(C.toUpperCase())})).map((function(e){var n=r(e),u=f(e),a=n===r(k);return Object(h.jsx)(i.a.Item,{action:!0,className:"user-select-none",onClick:function(){return N(e)},active:a,children:Object(h.jsxs)("div",{className:"d-flex justify-content-between",children:[u,Object(h.jsx)(b.c,{style:a?{color:"#fff"}:{},to:O(e),children:"Go to ".concat(t.toLowerCase())})]})},n)}));return Object(h.jsxs)(o.Fragment,{children:[Object(h.jsxs)(s.a,{border:"secondary",children:[Object(h.jsxs)(s.a.Header,{className:"d-flex justify-content-between",children:[Object(h.jsx)(d.a,{className:"flex-grow-1",label:t,children:Object(h.jsx)(l.a.Control,{placeholder:"placeholder",value:C,onChange:function(e){return w(e.target.value)}})}),v?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p.a,{variant:"secondary",className:"mx-1",onClick:function(){return H(!0)},children:"Add"}),Object(h.jsx)(p.a,{variant:"secondary",onClick:function(){r(k)?P(!0):F(!0)},children:"Remove"})]}):null]}),0!==V.length?Object(h.jsx)(i.a,{variant:"flush",children:V}):null,Object(h.jsx)(s.a.Footer,{className:"text-muted text-center",children:"Found ".concat(V.length," ").concat(t.toLowerCase())})]}),Object(h.jsx)(j.a,{title:"Warning",content:"Please select one ".concat(t.toLowerCase()," from the list."),show:E,handleClose:function(){return F(!1)}}),Object(h.jsx)(j.a,{title:"Remove ".concat(t.toLowerCase(),"?"),content:"This action cannot be undone. List will be updated.",show:R,handleClose:function(){return P(!1)},handleSubmit:Object(a.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(k);case 2:case"end":return e.stop()}}),e)})))}),Object(h.jsx)(m.a,{title:"Add new ".concat(t.toLowerCase()),show:D,handleClose:function(){return H(!1)},handleSubmit:g,handleSearchItems:function(){var e=Object(a.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return!Q.includes(e.value)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})}},299:function(e,t,n){"use strict";var r=n(0),u=n(8);var a=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current};t.a=function(e){var t,n,c=e.selectedItemId,o=e.setSelectedItemId,i=Object(u.h)(),s=Object(u.g)("/:resource/:itemId"),d=null===s||void 0===s||null===(t=s.params)||void 0===t?void 0:t.itemId,l=null===s||void 0===s||null===(n=s.params)||void 0===n?void 0:n.resource,p=a(c);Object(r.useEffect)((function(){c?d?d!==c&&(p?d===p?i(c.toString()):console.log("Weird?",{itemIdParam:d,prevSelectedId:p,selectedItemId:c}):o(d)):i(c.toString()):p?p===d?i("/".concat(l)):console.log("Weird?",{itemIdParam:d,prevSelectedId:p,selectedItemId:c}):d&&o(d)}),[c,d])}},300:function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"j",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"l",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"k",(function(){return b})),n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return f}));var r=n(37),u=n(64).a.injectEndpoints({endpoints:function(e){return{searchStudents:e.mutation({query:function(e){return{url:"/user",method:"GET",params:{role:"STUDENT",query:e||""}}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{type:r.h,id:e.id}}))}}),getStudentInfo:e.query({query:function(e){return{url:"/user/info",method:"GET",params:{userId:e}}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{type:r.h,id:e.id}]}}),getStudentMentorGroup:e.query({query:function(e){return{url:"/student/mentor",method:"GET",params:{studentId:e}}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;return[{type:r.f,id:e.groupId},{type:r.h,id:t}]}}),getStudentFaculty:e.query({query:function(e){return{url:"/user/faculty",method:"GET",params:{userId:e}}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;return[{type:r.c,id:e.groupId},{type:r.h,id:t}]}}),getStudentCourses:e.query({query:function(e){return{url:"/student/course",method:"GET",params:{studentId:e}}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return{type:r.a,id:e.groupId}})).concat([{type:r.b,id:t}])}}),addNewStudent:e.mutation({query:function(e){return{url:"/user",method:"POST",body:{displayId:e.displayId,name:e.name,password:e.password,role:"STUDENT",address:e.address,facultyId:e.facultyId}}}}),removeStudent:e.mutation({query:function(e){return{url:"/user",method:"DELETE",params:{userId:e.userId}}},invalidatesTags:function(){var e=arguments.length>2?arguments[2]:void 0;return[{type:r.h,id:e.userId}]}}),addStudentCourse:e.mutation({query:function(e){return{url:"/group/user",method:"POST",params:{userId:e.userId,groupId:e.groupId}}},invalidatesTags:function(e,t,n){return[{type:r.b,id:n.userId},{type:r.i,id:n.groupId}]}}),removeStudentCourse:e.mutation({query:function(e){return{url:"/group/user",method:"DELETE",params:{userId:e.userId,groupId:e.groupId}}},invalidatesTags:function(e,t,n){return[{type:r.b,id:n.userId},{type:r.i,id:n.groupId}]}}),changeUserPassword:e.mutation({query:function(e){return{url:"/user/password",method:"PUT",body:{userId:e.userId,password:e.password}}}}),changeStudentInfo:e.mutation({query:function(e){return{url:"/user",method:"PUT",body:{id:e.id,name:e.name,address:e.address,displayId:e.displayId}}},invalidatesTags:function(e,t,n){return[{type:r.h,id:n.id}]}}),changeStudentMentor:e.mutation({query:function(e){return{url:"/user/group",method:"PUT",body:{userId:e.id,currentGroupId:e.currentMentorGroupId,newGroupId:e.newMentorGroupId}}},invalidatesTags:function(e,t,n){return[{type:r.h,id:n.id},{type:r.i,id:n.currentMentorGroupId},{type:r.i,id:n.newMentorGroupId}]}}),changeStudentFaculty:e.mutation({query:function(e){return{url:"/user/group",method:"PUT",body:{userId:e.id,currentGroupId:e.currentFacultyId,newGroupId:e.newFacultyId}}},invalidatesTags:function(e,t,n){return[{type:r.h,id:n.id}]}})}}}),a=u.useSearchStudentsMutation,c=u.useGetStudentMentorGroupQuery,o=u.useGetStudentCoursesQuery,i=u.useGetStudentFacultyQuery,s=u.useGetStudentInfoQuery,d=u.useAddNewStudentMutation,l=u.useRemoveStudentMutation,p=u.useAddStudentCourseMutation,b=u.useRemoveStudentCourseMutation,j=u.useChangeUserPasswordMutation,m=u.useChangeStudentInfoMutation,h=u.useChangeStudentMentorMutation,f=u.useChangeStudentFacultyMutation},302:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n(37),u=n(64).a.injectEndpoints({endpoints:function(e){return{searchCourses:e.mutation({query:function(e){return{url:"/group",method:"GET",params:{query:e||"",groupType:"COURSE"}}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{type:r.a,id:e.groupId}}))}}),getCourseInfo:e.query({query:function(e){return{url:"/course/info",method:"GET",params:{groupId:e}}},providesTags:function(e,t,n){return[{type:r.a,id:n}]}}),getCourseStudents:e.query({query:function(e){return{url:"/group/user",method:"GET",params:{groupId:e,role:"STUDENT"}}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return{type:r.h,id:e.userId}})).concat([{type:r.i,id:t}])}}),addNewCourse:e.mutation({query:function(e){return{url:"/course",method:"POST",body:{courseName:e.courseName,timeSlot:e.timeSlot,lecturerId:e.lecturerId,displayId:e.displayId}}},invalidatesTags:function(){var e=arguments.length>2?arguments[2]:void 0;return[{type:r.b,id:e.lecturerId}]}}),removeCourse:e.mutation({query:function(e){return{url:"/group",method:"DELETE",params:{groupId:e.groupId}}},invalidatesTags:function(){var e=arguments.length>2?arguments[2]:void 0;return[{type:r.a,id:e.groupId}]}}),changeCourseName:e.mutation({query:function(e){return{url:"/group/name",method:"PUT",body:{groupId:e.groupId,groupName:e.groupName}}},invalidatesTags:function(e,t,n){return[{type:r.a,id:n.groupId}]}}),changeCourseDisplayId:e.mutation({query:function(e){return{url:"/group/displayId",method:"PUT",body:{groupId:e.groupId,displayId:e.displayId}}},invalidatesTags:function(e,t,n){return[{type:r.a,id:n.groupId}]}}),changeCourseTimeSlot:e.mutation({query:function(e){return{url:"/course/timeslot",method:"PUT",body:{groupId:e.groupId,timeSlot:e.timeSlot}}},invalidatesTags:function(e,t,n){return[{type:r.a,id:n.groupId}]}}),changeCourseLecturer:e.mutation({query:function(e){var t=e.groupId;e.currentLecturerId;return{url:"/course/lecturer",method:"PUT",body:{groupId:t,lecturerId:e.newLecturerId}}},invalidatesTags:function(e,t,n){return[{type:r.a,id:n.groupId},{type:r.b,id:n.currentLecturerId},{type:r.b,id:n.newLecturerId}]}})}}}),a=u.useSearchCoursesMutation,c=u.useGetCourseInfoQuery,o=u.useGetCourseStudentsQuery,i=u.useAddNewCourseMutation,s=u.useRemoveCourseMutation,d=u.useChangeCourseNameMutation,l=u.useChangeCourseTimeSlotMutation,p=u.useChangeCourseLecturerMutation,b=u.useChangeCourseDisplayIdMutation},303:function(e,t,n){"use strict";var r=n(39),u=n.n(r),a=n(53),c=n(72),o=n(54),i=n(346),s=n(71),d=n(283),l=n(286),p=n(95),b=n(1);t.a=function(e){var t=e.title,n=e.show,r=e.handleClose,j=e.handleSubmit,m=e.initialValues,h=void 0===m?"":m,f=e.isNumber,O=void 0!==f&&f,v=c.b().shape({singleField:O?c.a().required("This field is required."):c.c().required("This field is required.")}),y=function(){var e=Object(a.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(t.singleField);case 3:r(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(b.jsxs)(i.a,{show:n,onHide:r,children:[Object(b.jsx)(i.a.Header,{closeButton:!0,children:Object(b.jsx)(i.a.Title,{children:t})}),Object(b.jsx)(o.c,{initialValues:{singleField:h},onSubmit:y,validationSchema:v,children:function(e){return Object(b.jsxs)(s.a,{noValidate:!0,onSubmit:e.handleSubmit,onReset:e.handleReset,children:[Object(b.jsx)(i.a.Body,{children:Object(b.jsx)(o.b,{name:"singleField",component:p.a,type:O?"number":"text"})}),Object(b.jsxs)(i.a.Footer,{children:[Object(b.jsx)(d.a,{variant:"secondary",onClick:r,children:"Cancel"}),Object(b.jsxs)(d.a,{variant:"primary",type:"submit",children:[e.isSubmitting&&Object(b.jsx)(l.a,{animation:"border",as:"span",role:"status",size:"sm"}),"Submit"]})]})]})}})]})}},350:function(e,t,n){"use strict";n.r(t);var r=n(299),u=n(40),a=n(344),c=n(155),o=n(10),i=n(0),s=n(15),d=n(302),l=n(296),p=n(39),b=n.n(p),j=n(53),m=n(72),h=n(54),f=n(346),O=n(71),v=n(283),y=n(286),g=n(95),I=n(294),x=n(293),S=n(1),C=m.b().shape({displayId:m.c().required("This field is required."),courseName:m.c().required("This field is required."),timeSlot:m.a().required("This field is required."),lecturerId:m.c().required("This field is required.")}),w={displayId:"",courseName:"",timeSlot:0,lecturerId:""},T=function(e){var t=e.show,n=e.handleClose,r=Object(x.i)(),a=Object(o.a)(r,1)[0],c=Object(d.a)(),i=Object(o.a)(c,1)[0],l=Object(s.d)(),p=function(){var e=Object(j.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t).unwrap();case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return{value:e.id,label:e.name}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(b.a.mark((function e(t){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(t).unwrap();case 3:r=e.sent,a=r.groupId,n(),l(Object(u.j)(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(f.a,{show:t,onHide:n,children:[Object(S.jsx)(f.a.Header,{closeButton:!0,children:Object(S.jsx)(f.a.Title,{children:"Add new course"})}),Object(S.jsx)(h.c,{initialValues:w,onSubmit:m,validationSchema:C,children:function(e){return Object(S.jsxs)(O.a,{noValidate:!0,onSubmit:e.handleSubmit,onReset:e.handleReset,children:[Object(S.jsxs)(f.a.Body,{children:[Object(S.jsx)(h.b,{name:"courseName",component:g.a,label:"New course name",placeholder:"Intro to computing..."}),Object(S.jsx)(h.b,{name:"displayId",component:g.a,label:"New course ID",placeholder:"IT011IU"}),Object(S.jsx)(h.b,{name:"timeSlot",component:g.a,type:"number",label:"Time slot",placeholder:"1-112..."}),Object(S.jsx)(h.b,{name:"lecturerId",component:I.a,loadOptions:p,label:"Select lecturer"})]}),Object(S.jsxs)(f.a.Footer,{children:[Object(S.jsx)(v.a,{variant:"secondary",onClick:n,children:"Cancel"}),Object(S.jsxs)(v.a,{variant:"primary",type:"submit",children:[e.isSubmitting&&Object(S.jsx)(y.a,{animation:"border",as:"span",role:"status",size:"sm"}),"Submit"]})]})]})}})]})},q=function(){var e=Object(s.d)(),t=Object(d.i)(),n=Object(o.a)(t,2),r=n[0],a=n[1].data,c=Object(s.e)(u.e),p=Object(i.useState)(!1),b=Object(o.a)(p,2),j=b[0],m=b[1];return Object(S.jsxs)(i.Fragment,{children:[Object(S.jsx)(l.a,{label:"Course",items:a,selectedItemKey:c,keySelector:function(e){return e.groupId},nameSelector:function(e){return e.groupName},showKey:!1,onSearch:function(e){return r(e)},onAdd:function(){return m(!0)},onSelect:function(t){return e(Object(u.j)(t.groupId))}}),Object(S.jsx)(T,{show:j,handleClose:function(){return m(!1)}})]})},k=n(297),N=n(291),L=n(303),G=n(292),E=function(){var e=Object(s.e)(u.e),t=Object(d.f)(e),n=t.data,r=t.isFetching,a=Object(d.h)(),c=Object(o.a)(a,1)[0],l=Object(d.d)(),p=Object(o.a)(l,1)[0],m=Object(d.c)(),h=Object(o.a)(m,1)[0],f=Object(x.i)(),O=Object(o.a)(f,1)[0],v=Object(d.e)(),y=Object(o.a)(v,1)[0],g=Object(d.b)(),I=Object(o.a)(g,1)[0],C=Object(i.useState)(!1),w=Object(o.a)(C,2),T=w[0],q=w[1],E=Object(i.useState)(!1),F=Object(o.a)(E,2),M=F[0],U=F[1],R=Object(i.useState)(!1),P=Object(o.a)(R,2),A=P[0],B=P[1],D=Object(i.useState)(!1),H=Object(o.a)(D,2),Q=H[0],V=H[1],K=Object(i.useState)(!1),z=Object(o.a)(K,2),W=z[0],J=z[1],_=Object(s.d)();return r?Object(S.jsx)(S.Fragment,{}):Object(S.jsxs)(i.Fragment,{children:[Object(S.jsx)(k.a,{label:"Course",fields:[{label:"Course name",content:n.courseName},{label:"Course ID",content:n.displayId},{label:"Timeslot",content:n.timeSlot}],links:[{label:"Lecturer",content:n.lecturerName,destination:"/lecturer/".concat(n.lecturerId||"")}],buttons:[{label:"Rename course",onClick:function(){U(!0)}},{label:"Change course ID",onClick:function(){B(!0)}},{label:"Change timeslot",onClick:function(){J(!0)}},{label:"Change lecturer",onClick:function(){V(!0)}},{label:"Remove course",onClick:function(){q(!0)}}]}),Object(S.jsx)(L.a,{title:"Change course name",show:M,handleClose:function(){U(!1)},handleSubmit:function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({groupId:n.groupId,groupName:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),initialValues:n.courseName}),Object(S.jsx)(L.a,{title:"Change course ID",show:A,handleClose:function(){B(!1)},handleSubmit:function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({groupId:n.groupId,displayId:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),initialValues:n.displayId}),Object(S.jsx)(L.a,{title:"Change course timeslot",show:W,handleClose:function(){J(!1)},handleSubmit:function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({groupId:n.groupId,timeSlot:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),initialValues:n.timeSlot,isNumber:!0}),Object(S.jsx)(G.a,{title:"Change lecturer",show:Q,handleClose:function(){V(!1)},handleSubmit:function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({groupId:n.groupId,currentLecturerId:n.lecturerId,newLecturerId:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleSearchItems:function(){var e=Object(j.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t).unwrap();case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return{value:e.id,label:e.name}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(S.jsx)(N.a,{title:"Remove course?",content:"All students will be removed from this course too.",show:T,handleClose:function(){return q(!1)},handleSubmit:Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(Object(u.j)(null)),e.next=3,c({groupId:n.groupId}).unwrap();case 3:case"end":return e.stop()}}),e)})))})]})},F=n(300),M=n(298),U=function(e){var t=e.selectedCourseId,n=Object(d.g)(t),r=n.data,u=n.isFetching,a=Object(F.k)(),c=Object(o.a)(a,1)[0],i=Object(F.b)(),s=Object(o.a)(i,1)[0],l=Object(F.m)(),p=Object(o.a)(l,1)[0];return u?Object(S.jsx)(S.Fragment,{}):Object(S.jsx)(M.a,{label:"Student",items:r,keySelector:function(e){return e.userId},nameSelector:function(e){return e.userName},linkSelector:function(e){return"/student/".concat(e.userId)},showButtons:!0,handleRemove:function(){var e=Object(j.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({userId:n.userId,groupId:t}).unwrap();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleAdd:function(){var e=Object(j.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({userId:n,groupId:t}).unwrap();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleSearchItems:function(){var e=Object(j.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t).unwrap();case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return{value:e.id,label:e.name}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})};t.default=function(){var e=Object(s.d)(),t=Object(s.e)(u.e);return Object(r.a)({selectedItemId:t,setSelectedItemId:function(t){e(Object(u.j)(t))}}),Object(S.jsxs)(a.a,{className:"justify-content-md-center my-3",children:[Object(S.jsx)(c.a,{md:"3",children:Object(S.jsx)(q,{})}),t?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(c.a,{md:"4",children:Object(S.jsx)(E,{selectedCourseId:t})}),Object(S.jsx)(c.a,{md:"4",children:Object(S.jsx)(U,{selectedCourseId:t})})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(c.a,{md:"4"}),Object(S.jsx)(c.a,{md:"4"})]})]})}}}]);
//# sourceMappingURL=5.bd555e0c.chunk.js.map