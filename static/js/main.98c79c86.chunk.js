(this.webpackJsonpclient_admin=this.webpackJsonpclient_admin||[]).push([[2],{114:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(18),i=n.n(a),d=n(11),u=n(27),s=n(4),o=n(122),l=n(121),j=n(123),b=n(21),f=n(1),O=function(){return Object(f.jsx)(o.a,{bg:"dark",variant:"dark",children:Object(f.jsxs)(l.a,{children:[Object(f.jsx)(o.a.Brand,{as:b.d,to:"/",children:"ZHONGLI ADMIN"}),Object(f.jsxs)(j.a,{variant:"pills",className:"me-auto",children:[Object(f.jsx)(j.a.Link,{as:b.d,to:"/student",children:"Student"}),Object(f.jsx)(j.a.Link,{as:b.d,to:"/lecturer",children:"Lecturer"}),Object(f.jsx)(j.a.Link,{as:b.d,to:"/mentor",children:"Mentor"}),Object(f.jsx)(j.a.Link,{as:b.d,to:"/course",children:"Course"}),Object(f.jsx)(j.a.Link,{as:b.d,to:"/faculty",children:"Faculty"})]})]})})},h=n(124),p=n(35),m=(n(114),c.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,346))}))),I=c.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,347))})),S=c.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,348))})),x=c.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,349))})),v=c.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,350))})),g=c.a.lazy((function(){return n.e(10).then(n.bind(null,344))}));var L,P=function(){var e=Object(d.d)(),t=!!Object(d.e)(u.c),n=Object(d.e)(p.b);return Object(r.useEffect)((function(){t||e(Object(u.a)())}),[t,e]),t?Object(f.jsxs)(r.Fragment,{children:[Object(f.jsx)(O,{}),Object(f.jsx)(h.a,{variant:"secondary",animated:!0,now:n?100:0}),Object(f.jsxs)(s.d,{children:[Object(f.jsx)(s.b,{path:"/",element:Object(f.jsx)(s.a,{replace:!0,to:"/student"})}),Object(f.jsx)(s.b,{path:"student/*",element:Object(f.jsx)(m,{})}),Object(f.jsx)(s.b,{path:"lecturer/*",element:Object(f.jsx)(I,{})}),Object(f.jsx)(s.b,{path:"mentor/*",element:Object(f.jsx)(S,{})}),Object(f.jsx)(s.b,{path:"course/*",element:Object(f.jsx)(x,{})}),Object(f.jsx)(s.b,{path:"faculty/*",element:Object(f.jsx)(v,{})}),Object(f.jsx)(s.b,{path:"*",element:Object(f.jsx)(g,{})})]})]}):Object(f.jsx)("h3",{children:"Logging in as admin..."})},_=n(6),y=n(13),T=n(3),E=n(93),R=n.n(E),A=n(30),k=n(43),C=n(95),U=Object(y.combineReducers)((L={},Object(_.a)(L,k.a.reducerPath,k.a.reducer),Object(_.a)(L,u.b.name,u.b.reducer),Object(_.a)(L,p.a.name,p.a.reducer),L)),w={key:"root",storage:R.a,blacklist:[k.a.reducerPath,p.a.name]},N=Object(A.g)(w,U),D=Object(T.configureStore)({reducer:N,middleware:function(e){return e({serializableCheck:{ignoredActions:[A.a,A.f,A.b,A.c,A.d,A.e]}}).concat(k.a.middleware)}}),M=Object(A.h)(D);Object(C.setupListeners)(D.dispatch);var z=n(96),F=n(28);n(118);F.a.checkEnvVariables();var W=F.a.isProduction?b.b:b.a;i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(d.a,{store:D,children:Object(f.jsx)(z.a,{loading:Object(f.jsx)("div",{children:"Loading redux state..."}),persistor:M,children:Object(f.jsx)(W,{children:Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)("div",{children:"Loading route..."}),children:Object(f.jsx)(P,{})})})})})}),document.getElementById("root"))},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return l}));var r="COURSE",c="FACULTY",a="MENTORGROUP",i="LECTURER",d="STUDENT",u="MENTORGROUP_LIST",s="STUDENT_LIST",o="LECTURER_LIST",l="COURSE_LIST"},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o}));var r=n(34),c=n.n(r),a=n(46),i=n(3),d=n(28),u=Object(i.createAsyncThunk)("auth/adminLogin",Object(a.a)(c.a.mark((function e(){var t,n,r,a,i,u=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{userId:d.a.adminUserId,password:d.a.adminPassword},n=t.userId,r=t.password,a=u.length>1?u[1]:void 0,e.next=4,fetch("".concat(d.a.apiUrl,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n,password:r})});case 4:return(i=e.sent).ok||a.rejectWithValue(i),e.abrupt("return",i.json());case 7:case"end":return e.stop()}}),e)})))),s=Object(i.createSlice)({name:"auth",initialState:{user:{id:null,psid:null,name:null,role:null},jwt:null},reducers:{},extraReducers:function(e){e.addCase(u.fulfilled,(function(e,t){var n=t.payload;e.jwt=n.accessToken,e.user={id:n.id,psid:n.psid,name:n.name,role:n.role}}))}}),o=function(e){return e[s.name].jwt}},28:function(e,t,n){"use strict";var r=n(90);n.n(r).a.config();var c=["REACT_APP_API_URL","REACT_APP_ADMIN_USERID","REACT_APP_ADMIN_PASSWORD"],a={apiUrl:"https://zhongli-server.herokuapp.com",adminUserId:"admin",adminPassword:"conculan",isProduction:!0,checkEnvVariables:function(){c.forEach((function(e){Object({NODE_ENV:"production",PUBLIC_URL:"/zhongli-admin",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADMIN_PASSWORD:"conculan",REACT_APP_ADMIN_USERID:"admin",REACT_APP_API_URL:"https://zhongli-server.herokuapp.com"})[e]||console.warn("WARNING: Missing the environment variable "+e)}))}};t.a=a},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return O})),n.d(t,"l",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return m}));var r=n(3),c={isLoading:!1,selectedStudentId:void 0,selectedLecturerId:void 0,selectedMentorId:void 0,selectedCourseId:void 0,selectedFacultyId:void 0},a=Object(r.createSlice)({name:"page",initialState:c,reducers:{setIsLoading:function(e,t){e.isLoading=t.payload},setSelectedStudentId:function(e,t){e.selectedStudentId=t.payload},setSelectedLecturerId:function(e,t){e.selectedLecturerId=t.payload},setSelectedMentorId:function(e,t){e.selectedMentorId=t.payload},setSelectedCourseId:function(e,t){e.selectedCourseId=t.payload},setSelectedFacultyId:function(e,t){e.selectedFacultyId=t.payload}}}),i=function(e){return e[a.name].isLoading},d=function(e){return e[a.name].selectedStudentId},u=function(e){return e[a.name].selectedLecturerId},s=function(e){return e[a.name].selectedMentorId},o=function(e){return e[a.name].selectedCourseId},l=function(e){return e[a.name].selectedFacultyId},j=a.actions,b=j.setIsLoading,f=j.setSelectedStudentId,O=j.setSelectedLecturerId,h=j.setSelectedMentorId,p=j.setSelectedCourseId,m=j.setSelectedFacultyId},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(34),c=n.n(r),a=n(46),i=n(14),d=n(94),u=n(28),s=n(27),o=n(25),l=Object(i.d)({baseUrl:"".concat(u.a.apiUrl,"/api"),prepareHeaders:function(e,t){var n=t.getState,r=Object(s.c)(n());return r&&e.set("authorization","Bearer ".concat(r)),e}}),j=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,n,r);case 2:if(!(a=e.sent).error||401!==a.error.status){e.next=9;break}return e.next=6,n.dispatch(Object(s.a)());case 6:return e.next=8,l(t,n,r);case 8:a=e.sent;case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),b=Object(d.a)({baseQuery:j,refetchOnReconnect:!0,tagTypes:[o.a,o.c,o.f,o.d,o.h,o.g,o.i,o.e,o.b],endpoints:function(){return{}}})}},[[119,3,4]]]);
//# sourceMappingURL=main.98c79c86.chunk.js.map