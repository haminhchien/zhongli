{"version":3,"sources":["components/custom-fields/InputField/index.jsx","components/modals/ConfirmationModal/index.jsx","components/custom-fields/AsyncSelectField/index.jsx","components/modals/SelectItemModal/index.jsx","app/api/user/lecturerSlice.js","components/SearchCard/index.jsx","components/DetailCard/index.jsx","components/ListCard/index.jsx","hooks/usePrevious.js","hooks/useItemParam.js","app/api/user/studentSlice.js","app/api/group/courseSlice.js","components/modals/EditFieldModal/index.jsx","pages/Course/components/CourseSearchCard/CourseAddModal.jsx","pages/Course/components/CourseSearchCard/index.jsx","pages/Course/components/CourseDetailCard/index.jsx","pages/Course/components/CourseListCard/index.jsx","pages/Course/index.jsx"],"names":["InputField","props","field","form","type","label","placeholder","disabled","errors","touched","name","showError","Group","className","Label","htmlFor","Control","id","isInvalid","render","msg","Feedback","ConfirmationModal","show","handleClose","handleSubmit","handleError","title","content","useState","isSubmitting","setIsSubmitting","handleClick","a","onHide","Header","closeButton","Title","Body","Footer","variant","onClick","animation","as","role","size","AsyncSelectField","loadOptions","onBlur","onChange","selectedOption","selectedValue","value","changeEvent","target","validationSchema","Yup","shape","itemId","required","initialValues","SelectItemModal","handleSearchItems","onSubmit","values","actions","console","log","formikProps","noValidate","onReset","handleReset","component","extendedApi","apiSlice","injectEndpoints","endpoints","builder","searchLecturers","mutation","query","queryStr","url","method","params","providesTags","result","map","lecturer","LECTURER","getLecturerInfo","lecturerId","userId","error","arg","getLecturerMentorGroups","mentorGroup","MENTORGROUP","groupId","concat","MENTORGROUP_LIST","getLecturerFaculty","FACULTY","getLecturerCourses","course","COURSE","COURSE_LIST","addNewLecturer","body","password","address","facultyId","invalidatesTags","LECTURER_LIST","removeLecturer","changeLecturerInfo","changeLecturerFaculty","currentGroupId","currentFacultyId","newGroupId","newFacultyId","useSearchLecturersMutation","useGetLecturerMentorGroupsQuery","useGetLecturerCoursesQuery","useGetLecturerFacultyQuery","useGetLecturerInfoQuery","useAddNewLecturerMutation","useRemoveLecturerMutation","useChangeLecturerInfoMutation","useChangeLecturerFacultyMutation","SearchCard","items","selectedItemKey","keySelector","nameSelector","showKey","onSearch","onAdd","onSelect","useEffect","setQuery","listItems","filter","item","toUpperCase","includes","itemKey","itemName","Item","active","action","border","e","length","toLowerCase","DetailCard","buttons","fields","links","listItemLabel","linkSelector","navigate","useNavigate","itemList","to","Row","column","sm","plaintext","readOnly","destination","ListCard","showButtons","handleRemove","handleAdd","selectedItem","setSelectedItem","showSelectWarning","setShowSelectWarning","showRemoveWarning","setShowRemoveWarning","showAddModal","setShowAddModal","itemKeys","isActive","style","color","usePrevious","ref","useRef","current","useItemParam","selectedItemId","setSelectedItemId","match","useMatch","itemIdParam","resourceParam","resource","prevSelectedId","toString","searchStudents","student","STUDENT","getStudentInfo","studentId","getStudentMentorGroup","getStudentFaculty","getStudentCourses","addNewStudent","removeStudent","addStudentCourse","STUDENT_LIST","removeStudentCourse","changeUserPassword","changeStudentInfo","changeStudentMentor","currentMentorGroupId","newMentorGroupId","changeStudentFaculty","useSearchStudentsMutation","useGetStudentMentorGroupQuery","useGetStudentCoursesQuery","useGetStudentFacultyQuery","useGetStudentInfoQuery","useAddNewStudentMutation","useRemoveStudentMutation","useAddStudentCourseMutation","useRemoveStudentCourseMutation","useChangeUserPasswordMutation","useChangeStudentInfoMutation","useChangeStudentMentorMutation","useChangeStudentFacultyMutation","searchCourses","groupType","getCourseInfo","getCourseStudents","addNewCourse","courseName","timeSlot","removeCourse","changeCourseName","groupName","changeCourseTimeSlot","changeCourseLecturer","currentLecturerId","newLecturerId","useSearchCoursesMutation","useGetCourseInfoQuery","useGetCourseStudentsQuery","useAddNewCourseMutation","useRemoveCourseMutation","useChangeCourseNameMutation","useChangeCourseTimeSlotMutation","useChangeCourseLecturerMutation","EditFieldModal","isNumber","singleField","CourseAddModal","triggerSearch","triggerAdd","dispatch","useDispatch","inputValue","unwrap","lecturers","setSelectedCourseId","Modal","Form","Button","Spinner","CourseSearchCard","trigger","data","isLoading","selectedCourseId","useSelector","selectedCourseIdSelector","addModal","setAddModal","setIsLoading","CourseDetailCard","courseInfo","isFetching","triggerRemoveCourse","triggerRename","triggerChangeLecturer","triggerSearchLecturers","triggerChangeTimeSlot","showRenameModal","setShowRenameModal","showChangeLecturerModal","setShowChangeLecturerModal","showChangeTimeSlotModal","setShowChangeTimeSlotModal","lecturerName","newGroupName","newTimeSlot","CourseListCard","students","triggerRemoveStudent","triggerAddStudent","triggerSearchStudent","userName","CoursePage","courseId","Col","md"],"mappings":"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","file":"static/js/5.d3f821dc.chunk.js","sourcesContent":["import Form from 'react-bootstrap/Form'\r\nimport { ErrorMessage } from 'formik'\r\n\r\nfunction InputField(props) {\r\n  const { field, form, type, label, placeholder, disabled } = props\r\n  const { errors, touched } = form\r\n  const { name } = field\r\n  const showError = errors[name] && touched[name]\r\n\r\n  return (\r\n    <Form.Group className=\"mb-2\">\r\n      {label && <Form.Label htmlFor={name}>{label}</Form.Label>}\r\n      <Form.Control\r\n        id={name}\r\n        {...field}\r\n        placeholder={placeholder}\r\n        type={type}\r\n        disabled={disabled}\r\n        isInvalid={showError}\r\n      />\r\n      <ErrorMessage\r\n        name={name}\r\n        render={(msg) => (\r\n          <Form.Control.Feedback type=\"invalid\">{msg}</Form.Control.Feedback>\r\n        )}\r\n      />\r\n    </Form.Group>\r\n  )\r\n}\r\n\r\nexport default InputField\r\n","import { Modal, Button, Spinner } from 'react-bootstrap'\r\nimport { useState } from 'react'\r\n\r\nconst ConfirmationModal = ({\r\n  show,\r\n  handleClose,\r\n  handleSubmit,\r\n  handleError,\r\n  title,\r\n  content,\r\n}) => {\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n\r\n  const handleClick = async () => {\r\n    if (handleSubmit) {\r\n      setIsSubmitting(true)\r\n      try {\r\n        await handleSubmit()\r\n      } catch (e) {\r\n        if (handleError) {\r\n          handleError(e)\r\n        }\r\n      }\r\n    }\r\n    // handleClose()\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{title}</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>{content}</Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n          Cancel\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleClick}>\r\n          {isSubmitting && (\r\n            <Spinner animation=\"border\" as=\"span\" role=\"status\" size=\"sm\" />\r\n          )}\r\n          OK\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default ConfirmationModal\r\n","import { ErrorMessage } from 'formik'\r\nimport { Form } from 'react-bootstrap'\r\nimport AsyncSelect from 'react-select/async'\r\n\r\nfunction AsyncSelectField(props) {\r\n  const { field, form, label, placeholder, disabled, loadOptions } = props\r\n  const { name, onBlur } = field\r\n  const { errors, touched } = form\r\n  const showError = errors[name] && touched[name]\r\n\r\n  const handleSelectedOptionChange = (selectedOption) => {\r\n    const selectedValue = selectedOption ? selectedOption.value : selectedOption\r\n    const changeEvent = {\r\n      target: {\r\n        name: name,\r\n        value: selectedValue,\r\n      },\r\n    }\r\n    field.onChange(changeEvent)\r\n  }\r\n\r\n  return (\r\n    <Form.Group className=\"mb-3\">\r\n      {label && <Form.Label htmlFor={name}>{label}</Form.Label>}\r\n      <AsyncSelect\r\n        id={name}\r\n        onChange={handleSelectedOptionChange}\r\n        onBlur={onBlur}\r\n        placeholder={placeholder}\r\n        loadOptions={loadOptions}\r\n        disabled={disabled}\r\n        className={showError ? 'is-invalid' : ''}\r\n      />\r\n      <ErrorMessage\r\n        name={name}\r\n        render={(msg) => (\r\n          <Form.Control.Feedback type=\"invalid\">{msg}</Form.Control.Feedback>\r\n        )}\r\n      />\r\n    </Form.Group>\r\n  )\r\n}\r\n\r\nexport default AsyncSelectField\r\n","import * as Yup from 'yup'\r\nimport { FastField, Formik } from 'formik'\r\nimport { Modal, Button, Form, Spinner } from 'react-bootstrap'\r\nimport AsyncSelectField from '../../../components/custom-fields/AsyncSelectField'\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  itemId: Yup.string().required('This field is required.'),\r\n})\r\n\r\nconst initialValues = {\r\n  itemId: '',\r\n}\r\n\r\nconst SelectItemModal = ({\r\n  title,\r\n  show,\r\n  handleClose,\r\n  handleSubmit,\r\n  handleSearchItems,\r\n}) => {\r\n  const onSubmit = async (values, actions) => {\r\n    try {\r\n      await handleSubmit(values.itemId)\r\n      handleClose()\r\n    } catch (e) {\r\n      console.log(e)\r\n      // actions.setFieldError('itemId', e)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{title}</Modal.Title>\r\n      </Modal.Header>\r\n      <Formik\r\n        initialValues={initialValues}\r\n        onSubmit={onSubmit}\r\n        validationSchema={validationSchema}\r\n      >\r\n        {(formikProps) => (\r\n          <Form\r\n            noValidate\r\n            onSubmit={formikProps.handleSubmit}\r\n            onReset={formikProps.handleReset}\r\n          >\r\n            <Modal.Body>\r\n              <FastField\r\n                name=\"itemId\"\r\n                component={AsyncSelectField}\r\n                loadOptions={handleSearchItems}\r\n              />\r\n            </Modal.Body>\r\n\r\n            <Modal.Footer>\r\n              <Button variant=\"secondary\" onClick={handleClose}>\r\n                Cancel\r\n              </Button>\r\n              <Button variant=\"primary\" type=\"submit\">\r\n                {formikProps.isSubmitting && (\r\n                  <Spinner\r\n                    animation=\"border\"\r\n                    as=\"span\"\r\n                    role=\"status\"\r\n                    size=\"sm\"\r\n                  />\r\n                )}\r\n                Submit\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default SelectItemModal\r\n","import {\r\n  COURSE,\r\n  COURSE_LIST,\r\n  FACULTY,\r\n  LECTURER,\r\n  LECTURER_LIST,\r\n  MENTORGROUP,\r\n  MENTORGROUP_LIST,\r\n} from '../tagConstants'\r\nimport { apiSlice } from '../index'\r\n\r\nconst extendedApi = apiSlice.injectEndpoints({\r\n  endpoints: (builder) => ({\r\n    searchLecturers: builder.mutation({\r\n      query: (queryStr) => ({\r\n        url: '/user',\r\n        method: 'GET',\r\n        params: { role: 'LECTURER', query: queryStr || '' },\r\n      }),\r\n      providesTags: (result = [], error, arg) =>\r\n        result.map((lecturer) => ({ type: LECTURER, id: lecturer.id })),\r\n    }),\r\n\r\n    getLecturerInfo: builder.query({\r\n      query: (lecturerId) => ({\r\n        url: '/user/info',\r\n        method: 'GET',\r\n        params: { userId: lecturerId },\r\n      }),\r\n      providesTags: (result, error, arg) => [{ type: LECTURER, id: arg }],\r\n    }),\r\n\r\n    getLecturerMentorGroups: builder.query({\r\n      query: (lecturerId) => ({\r\n        url: '/lecturer/mentor',\r\n        method: 'GET',\r\n        params: { lecturerId },\r\n      }),\r\n      providesTags: (result = {}, error, arg) =>\r\n        result\r\n          .map((mentorGroup) => ({\r\n            type: MENTORGROUP,\r\n            id: mentorGroup.groupId,\r\n          }))\r\n          .concat([{ type: MENTORGROUP_LIST, id: arg }]),\r\n    }),\r\n\r\n    getLecturerFaculty: builder.query({\r\n      query: (lecturerId) => ({\r\n        url: '/user/faculty',\r\n        method: 'GET',\r\n        params: { userId: lecturerId },\r\n      }),\r\n      providesTags: (result = {}, error, arg) => [\r\n        { type: FACULTY, id: result.groupId },\r\n        { type: LECTURER, id: arg },\r\n      ],\r\n    }),\r\n\r\n    getLecturerCourses: builder.query({\r\n      query: (lecturerId) => ({\r\n        url: '/lecturer/course',\r\n        method: 'GET',\r\n        params: { lecturerId },\r\n      }),\r\n      providesTags: (result = [], error, arg) =>\r\n        result\r\n          .map((course) => ({\r\n            type: COURSE,\r\n            id: course.groupId,\r\n          }))\r\n          .concat([{ type: COURSE_LIST, id: arg }]),\r\n    }),\r\n\r\n    addNewLecturer: builder.mutation({\r\n      query: ({ id, name, password, address, facultyId }) => ({\r\n        url: '/user',\r\n        method: 'POST',\r\n        body: { id, name, password, role: 'LECTURER', address, facultyId },\r\n      }),\r\n      invalidatesTags: (result, error, arg) => [\r\n        { type: LECTURER_LIST, id: arg.facultyId },\r\n      ],\r\n    }),\r\n\r\n    removeLecturer: builder.mutation({\r\n      query: ({ userId }) => ({\r\n        url: '/user',\r\n        method: 'DELETE',\r\n        params: { userId },\r\n      }),\r\n      invalidatesTags: (result = [], error, arg) => [\r\n        { type: LECTURER, id: arg.userId },\r\n      ],\r\n    }),\r\n\r\n    changeLecturerInfo: builder.mutation({\r\n      query: ({ id, name, address }) => ({\r\n        url: '/user',\r\n        method: 'PUT',\r\n        body: { id, name, address },\r\n      }),\r\n      invalidatesTags: (result, error, arg) => [\r\n        {\r\n          type: LECTURER,\r\n          id: arg.id,\r\n        },\r\n      ],\r\n    }),\r\n\r\n    changeLecturerFaculty: builder.mutation({\r\n      query: ({ id, currentFacultyId, newFacultyId }) => ({\r\n        url: '/user/group',\r\n        method: 'PUT',\r\n        body: {\r\n          userId: id,\r\n          currentGroupId: currentFacultyId,\r\n          newGroupId: newFacultyId,\r\n        },\r\n      }),\r\n      invalidatesTags: (result, error, arg) => [\r\n        { type: LECTURER, id: arg.id },\r\n        { type: LECTURER_LIST, id: arg.currentFacultyId },\r\n        { type: LECTURER_LIST, id: arg.newFacultyId },\r\n      ],\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const {\r\n  useSearchLecturersMutation,\r\n  useGetLecturerMentorGroupsQuery,\r\n  useGetLecturerCoursesQuery,\r\n  useGetLecturerFacultyQuery,\r\n  useGetLecturerInfoQuery,\r\n  useAddNewLecturerMutation,\r\n  useRemoveLecturerMutation,\r\n  useChangeLecturerInfoMutation,\r\n  useChangeLecturerFacultyMutation,\r\n} = extendedApi\r\n","import { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { Card, FloatingLabel, Form, ListGroup, Button } from 'react-bootstrap'\r\n\r\nconst SearchCard = ({\r\n  label,\r\n  items = [],\r\n  selectedItemKey,\r\n  keySelector,\r\n  nameSelector,\r\n  showKey,\r\n  onSearch,\r\n  onAdd,\r\n  onSelect,\r\n}) => {\r\n  useEffect(() => {\r\n    if (!selectedItemKey) {\r\n      // On mount, if no item selected, get something\r\n      onSearch(selectedItemKey)\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  const [query, setQuery] = useState('')\r\n\r\n  const listItems = items\r\n    .filter(\r\n      (item) =>\r\n        keySelector(item).toUpperCase().includes(query.toUpperCase()) ||\r\n        nameSelector(item).toUpperCase().includes(query.toUpperCase()),\r\n    )\r\n    .map((item) => {\r\n      const itemKey = keySelector(item)\r\n      const itemName = nameSelector(item)\r\n      return (\r\n        <ListGroup.Item\r\n          key={itemKey}\r\n          active={itemKey === selectedItemKey}\r\n          action\r\n          onClick={() => onSelect(item)}\r\n          className=\"user-select-none\"\r\n        >\r\n          <div className=\"d-flex justify-content-between\">\r\n            {itemName}\r\n            {showKey ? <div>{itemKey}</div> : null}\r\n          </div>\r\n        </ListGroup.Item>\r\n      )\r\n    })\r\n\r\n  return (\r\n    <Card border=\"secondary\">\r\n      <Card.Header className=\"d-flex justify-content-between\">\r\n        <FloatingLabel className=\"flex-grow-1\" label={label}>\r\n          <Form.Control\r\n            placeholder=\"placeholder\"\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n          />\r\n        </FloatingLabel>\r\n        <Button\r\n          variant=\"secondary\"\r\n          className=\"mx-1\"\r\n          onClick={() => {\r\n            onSearch(query)\r\n            setQuery('')\r\n          }}\r\n        >\r\n          Find\r\n        </Button>\r\n        <Button variant=\"secondary\" onClick={onAdd}>\r\n          Add\r\n        </Button>\r\n      </Card.Header>\r\n      {listItems.length !== 0 ? (\r\n        <ListGroup variant=\"flush\">{listItems}</ListGroup>\r\n      ) : null}\r\n      <Card.Footer className=\"text-muted text-center\">\r\n        {`Found ${listItems.length} ${label.toLowerCase()}`}\r\n      </Card.Footer>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default SearchCard\r\n","import {\r\n  Card,\r\n  Form,\r\n  Col,\r\n  Row,\r\n  NavLink,\r\n  ListGroup,\r\n  DropdownButton,\r\n  Dropdown,\r\n} from 'react-bootstrap'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\n\r\nconst DetailCard = (props) => {\r\n  const {\r\n    label,\r\n    buttons = [],\r\n    fields = [],\r\n    links = [],\r\n    listItems = [],\r\n    listItemLabel,\r\n    keySelector,\r\n    nameSelector,\r\n    linkSelector,\r\n  } = props\r\n  const navigate = useNavigate()\r\n  const itemList = listItems.map((item) => (\r\n    <ListGroup.Item key={keySelector(item)}>\r\n      <div className=\"d-flex justify-content-between\">\r\n        {nameSelector(item) ?? `[unnamed ${listItemLabel.toLowerCase()}]`}\r\n        <Link\r\n          to={linkSelector(item)}\r\n        >{`Go to ${listItemLabel.toLowerCase()}`}</Link>\r\n      </div>\r\n    </ListGroup.Item>\r\n  ))\r\n\r\n  return (\r\n    <Card border=\"secondary\">\r\n      <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n        <h1 className=\"display-6 flex-grow-1\">{label} details</h1>\r\n        <DropdownButton variant=\"secondary\" title=\"Options\">\r\n          {buttons.map(({ label, onClick }) => (\r\n            <Dropdown.Item key={label} onClick={onClick}>\r\n              {label}\r\n            </Dropdown.Item>\r\n          ))}\r\n        </DropdownButton>\r\n      </Card.Header>\r\n      <Card.Body>\r\n        {fields.map(({ label, content }) => (\r\n          <Form.Group key={label} as={Row} className=\"mb-1\">\r\n            <Form.Label column sm=\"3\">\r\n              {label}:\r\n            </Form.Label>\r\n            <Col sm=\"9\">\r\n              <Form.Control\r\n                plaintext\r\n                readOnly\r\n                className={content ? '' : 'text-muted'}\r\n                value={content ?? '[not available]'}\r\n              />\r\n            </Col>\r\n          </Form.Group>\r\n        ))}\r\n        {links.map(({ label, content, destination }) => (\r\n          <Form.Group key={label} as={Row} className=\"mb-1\">\r\n            <Form.Label column sm=\"3\">\r\n              {label}:\r\n            </Form.Label>\r\n            <Col sm=\"9\">\r\n              {content ? (\r\n                <NavLink className=\"px-0\" onClick={() => navigate(destination)}>\r\n                  {content}\r\n                </NavLink>\r\n              ) : (\r\n                <NavLink className=\"text-muted px-0\">[not available]</NavLink>\r\n              )}\r\n            </Col>\r\n          </Form.Group>\r\n        ))}\r\n      </Card.Body>\r\n      {itemList.length !== 0 ? (\r\n        <ListGroup variant=\"flush\">{itemList}</ListGroup>\r\n      ) : null}\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default DetailCard\r\n","import { Fragment, useState } from 'react'\r\nimport { Card, FloatingLabel, Form, ListGroup, Button } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport ConfirmationModal from '../modals/ConfirmationModal'\r\nimport SelectItemModal from '../modals/SelectItemModal'\r\n\r\nconst ListCard = ({\r\n  label,\r\n  items,\r\n  keySelector,\r\n  nameSelector,\r\n  linkSelector,\r\n  showButtons,\r\n  handleRemove,\r\n  handleAdd,\r\n  handleSearchItems,\r\n}) => {\r\n  const [query, setQuery] = useState('')\r\n  const [selectedItem, setSelectedItem] = useState({})\r\n  const [showSelectWarning, setShowSelectWarning] = useState(false)\r\n  const [showRemoveWarning, setShowRemoveWarning] = useState(false)\r\n  const [showAddModal, setShowAddModal] = useState()\r\n  const itemKeys = items.map((item) => keySelector(item))\r\n\r\n  const listItems = items\r\n    .filter(\r\n      (item) =>\r\n        keySelector(item).toUpperCase().includes(query.toUpperCase()) ||\r\n        nameSelector(item).toUpperCase().includes(query.toUpperCase()),\r\n    )\r\n    .map((item) => {\r\n      const itemKey = keySelector(item)\r\n      const itemName = nameSelector(item)\r\n      const isActive = itemKey === keySelector(selectedItem)\r\n      return (\r\n        <ListGroup.Item\r\n          key={itemKey}\r\n          action\r\n          className=\"user-select-none\"\r\n          onClick={() => setSelectedItem(item)}\r\n          active={isActive}\r\n        >\r\n          <div className=\"d-flex justify-content-between\">\r\n            {itemName}\r\n            <Link\r\n              style={\r\n                isActive\r\n                  ? {\r\n                      color: '#fff',\r\n                    }\r\n                  : {}\r\n              }\r\n              to={linkSelector(item)}\r\n            >{`Go to ${label.toLowerCase()}`}</Link>\r\n          </div>\r\n        </ListGroup.Item>\r\n      )\r\n    })\r\n\r\n  return (\r\n    <Fragment>\r\n      <Card border=\"secondary\">\r\n        <Card.Header className=\"d-flex justify-content-between\">\r\n          <FloatingLabel className=\"flex-grow-1\" label={label}>\r\n            <Form.Control\r\n              placeholder=\"placeholder\"\r\n              value={query}\r\n              onChange={(e) => setQuery(e.target.value)}\r\n            />\r\n          </FloatingLabel>\r\n          {showButtons ? (\r\n            <>\r\n              <Button\r\n                variant=\"secondary\"\r\n                className=\"mx-1\"\r\n                onClick={() => setShowAddModal(true)}\r\n              >\r\n                Add\r\n              </Button>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => {\r\n                  if (keySelector(selectedItem)) {\r\n                    setShowRemoveWarning(true)\r\n                  } else {\r\n                    setShowSelectWarning(true)\r\n                  }\r\n                }}\r\n              >\r\n                Remove\r\n              </Button>\r\n            </>\r\n          ) : null}\r\n        </Card.Header>\r\n        {listItems.length !== 0 ? (\r\n          <ListGroup variant=\"flush\">{listItems}</ListGroup>\r\n        ) : null}\r\n        <Card.Footer className=\"text-muted text-center\">\r\n          {`Found ${listItems.length} ${label.toLowerCase()}`}\r\n        </Card.Footer>\r\n      </Card>\r\n      <ConfirmationModal\r\n        title=\"Warning\"\r\n        content={`Please select one ${label.toLowerCase()} from the list.`}\r\n        show={showSelectWarning}\r\n        handleClose={() => setShowSelectWarning(false)}\r\n      />\r\n      <ConfirmationModal\r\n        title={`Remove ${label.toLowerCase()}?`}\r\n        content=\"This action cannot be undone. List will be updated.\"\r\n        show={showRemoveWarning}\r\n        handleClose={() => setShowRemoveWarning(false)}\r\n        handleSubmit={async () => {\r\n          await handleRemove(selectedItem)\r\n        }}\r\n      />\r\n      <SelectItemModal\r\n        title={`Add new ${label.toLowerCase()}`}\r\n        show={showAddModal}\r\n        handleClose={() => setShowAddModal(false)}\r\n        handleSubmit={handleAdd}\r\n        handleSearchItems={async (query) => {\r\n          const itemList = await handleSearchItems(query)\r\n          return itemList.filter((item) => !itemKeys.includes(item.value))\r\n        }}\r\n      />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default ListCard\r\n","import { useEffect, useRef } from 'react'\r\n\r\nfunction usePrevious(value) {\r\n  // The ref object is a generic container whose current property is mutable ...\r\n  // ... and can hold any value, similar to an instance property on a class\r\n  const ref = useRef()\r\n  // Store current value in ref\r\n  useEffect(() => {\r\n    ref.current = value\r\n  }, [value]) // Only re-run if value changes\r\n  // Return previous value (happens before update in useEffect above)\r\n  return ref.current\r\n}\r\n\r\nexport default usePrevious\r\n","import { useEffect } from 'react'\r\nimport { useMatch, useNavigate } from 'react-router'\r\nimport usePrevious from './usePrevious'\r\n\r\nconst useItemParam = ({ selectedItemId, setSelectedItemId }) => {\r\n  const navigate = useNavigate()\r\n  const match = useMatch('/:resource/:itemId') // Can be customized\r\n  const itemIdParam = match?.params?.itemId\r\n  const resourceParam = match?.params?.resource\r\n  const prevSelectedId = usePrevious(selectedItemId)\r\n\r\n  useEffect(() => {\r\n    if (selectedItemId) {\r\n      if (itemIdParam) {\r\n        if (itemIdParam !== selectedItemId) {\r\n          if (prevSelectedId) {\r\n            if (itemIdParam === prevSelectedId) {\r\n              // Update url based on selected item\r\n              navigate(selectedItemId.toString())\r\n            } else {\r\n              // Weird?\r\n              console.log('Weird?', {\r\n                itemIdParam,\r\n                prevSelectedId,\r\n                selectedItemId,\r\n              })\r\n            }\r\n          } else {\r\n            // Link from another resource\r\n            setSelectedItemId(itemIdParam)\r\n          }\r\n        } else {\r\n          // In sync, nothing changes, good!\r\n        }\r\n      } else {\r\n        // First select\r\n        navigate(selectedItemId.toString())\r\n      }\r\n    } else {\r\n      if (prevSelectedId) {\r\n        if (prevSelectedId === itemIdParam) {\r\n          // Current item deleted, selected ID is null\r\n          navigate(`/${resourceParam}`) // Clear param\r\n        } else {\r\n          // Weird?\r\n          console.log('Weird?', {\r\n            itemIdParam,\r\n            prevSelectedId,\r\n            selectedItemId,\r\n          })\r\n        }\r\n      } else {\r\n        if (itemIdParam) {\r\n          // Fresh load selected item from entered url\r\n          setSelectedItemId(itemIdParam)\r\n        } else {\r\n          // Fresh load with no param\r\n        }\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedItemId, itemIdParam])\r\n}\r\n\r\nexport default useItemParam\r\n","import {\r\n  COURSE,\r\n  COURSE_LIST,\r\n  FACULTY,\r\n  MENTORGROUP,\r\n  STUDENT,\r\n  STUDENT_LIST,\r\n} from '../tagConstants'\r\nimport { apiSlice } from '../index'\r\n\r\nconst extendedApi = apiSlice.injectEndpoints({\r\n  endpoints: (builder) => ({\r\n    searchStudents: builder.mutation({\r\n      query: (queryStr) => ({\r\n        url: '/user',\r\n        method: 'GET',\r\n        params: { role: 'STUDENT', query: queryStr || '' },\r\n      }),\r\n      providesTags: (result = [], error, arg) =>\r\n        result.map((student) => ({ type: STUDENT, id: student.id })),\r\n    }),\r\n\r\n    getStudentInfo: builder.query({\r\n      query: (studentId) => ({\r\n        url: '/user/info',\r\n        method: 'GET',\r\n        params: { userId: studentId },\r\n      }),\r\n      providesTags: (result = {}, error, arg) => [\r\n        { type: STUDENT, id: result.id },\r\n      ],\r\n    }),\r\n\r\n    getStudentMentorGroup: builder.query({\r\n      query: (studentId) => ({\r\n        url: '/student/mentor',\r\n        method: 'GET',\r\n        params: { studentId },\r\n      }),\r\n      providesTags: (result = {}, error, arg) => [\r\n        { type: MENTORGROUP, id: result.groupId },\r\n        { type: STUDENT, id: arg },\r\n      ],\r\n    }),\r\n\r\n    getStudentFaculty: builder.query({\r\n      query: (studentId) => ({\r\n        url: '/user/faculty',\r\n        method: 'GET',\r\n        params: { userId: studentId },\r\n      }),\r\n      providesTags: (result = {}, error, arg) => [\r\n        { type: FACULTY, id: result.groupId },\r\n        { type: STUDENT, id: arg },\r\n      ],\r\n    }),\r\n\r\n    getStudentCourses: builder.query({\r\n      query: (studentId) => ({\r\n        url: '/student/course',\r\n        method: 'GET',\r\n        params: { studentId },\r\n      }),\r\n      providesTags: (result = [], error, arg) =>\r\n        result\r\n          .map((course) => ({\r\n            type: COURSE,\r\n            id: course.groupId,\r\n          }))\r\n          .concat([{ type: COURSE_LIST, id: arg }]),\r\n    }),\r\n\r\n    addNewStudent: builder.mutation({\r\n      query: ({ id, name, password, address, facultyId }) => ({\r\n        url: '/user',\r\n        method: 'POST',\r\n        body: { id, name, password, role: 'STUDENT', address, facultyId },\r\n      }),\r\n    }),\r\n\r\n    removeStudent: builder.mutation({\r\n      query: ({ userId }) => ({\r\n        url: '/user',\r\n        method: 'DELETE',\r\n        params: { userId },\r\n      }),\r\n      invalidatesTags: (result = [], error, arg) => [\r\n        { type: STUDENT, id: arg.userId },\r\n      ],\r\n    }),\r\n\r\n    addStudentCourse: builder.mutation({\r\n      query: ({ userId, groupId }) => ({\r\n        url: '/group/user',\r\n        method: 'POST',\r\n        params: { userId, groupId },\r\n      }),\r\n      invalidatesTags: (result, error, arg) => [\r\n        { type: COURSE_LIST, id: arg.userId },\r\n        { type: STUDENT_LIST, id: arg.groupId },\r\n      ],\r\n    }),\r\n\r\n    removeStudentCourse: builder.mutation({\r\n      query: ({ userId, groupId }) => ({\r\n        url: '/group/user',\r\n        method: 'DELETE',\r\n        params: { userId, groupId },\r\n      }),\r\n      invalidatesTags: (result, error, arg) => [\r\n        { type: COURSE_LIST, id: arg.userId },\r\n        { type: STUDENT_LIST, id: arg.groupId },\r\n      ],\r\n    }),\r\n\r\n    changeUserPassword: builder.mutation({\r\n      query: ({ userId, password }) => ({\r\n        url: '/user/password',\r\n        method: 'PUT',\r\n        body: { userId, password },\r\n      }),\r\n    }),\r\n\r\n    changeStudentInfo: builder.mutation({\r\n      query: ({ id, name, address }) => ({\r\n        url: '/user',\r\n        method: 'PUT',\r\n        body: { id, name, address },\r\n      }),\r\n      invalidatesTags: (result, error, arg) => [\r\n        {\r\n          type: STUDENT,\r\n          id: arg.id,\r\n        },\r\n      ],\r\n    }),\r\n\r\n    changeStudentMentor: builder.mutation({\r\n      query: ({ id, currentMentorGroupId, newMentorGroupId }) => ({\r\n        url: '/user/group',\r\n        method: 'PUT',\r\n        body: {\r\n          userId: id,\r\n          currentGroupId: currentMentorGroupId,\r\n          newGroupId: newMentorGroupId,\r\n        },\r\n      }),\r\n      invalidatesTags: (result, error, arg) => [\r\n        { type: STUDENT, id: arg.id },\r\n        { type: STUDENT_LIST, id: arg.currentMentorGroupId },\r\n        { type: STUDENT_LIST, id: arg.newMentorGroupId },\r\n      ],\r\n    }),\r\n\r\n    changeStudentFaculty: builder.mutation({\r\n      query: ({ id, currentFacultyId, newFacultyId }) => ({\r\n        url: '/user/group',\r\n        method: 'PUT',\r\n        body: {\r\n          userId: id,\r\n          currentGroupId: currentFacultyId,\r\n          newGroupId: newFacultyId,\r\n        },\r\n      }),\r\n      invalidatesTags: (result, error, arg) => [{ type: STUDENT, id: arg.id }],\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const {\r\n  useSearchStudentsMutation,\r\n  useGetStudentMentorGroupQuery,\r\n  useGetStudentCoursesQuery,\r\n  useGetStudentFacultyQuery,\r\n  useGetStudentInfoQuery,\r\n  useAddNewStudentMutation,\r\n  useRemoveStudentMutation,\r\n  useAddStudentCourseMutation,\r\n  useRemoveStudentCourseMutation,\r\n  useChangeUserPasswordMutation,\r\n  useChangeStudentInfoMutation,\r\n  useChangeStudentMentorMutation,\r\n  useChangeStudentFacultyMutation,\r\n} = extendedApi\r\n","import { COURSE, COURSE_LIST, STUDENT, STUDENT_LIST } from '../tagConstants'\r\nimport { apiSlice } from '../index'\r\n\r\nconst extendedApi = apiSlice.injectEndpoints({\r\n  endpoints: (builder) => ({\r\n    searchCourses: builder.mutation({\r\n      query: (queryStr) => ({\r\n        url: '/group',\r\n        method: 'GET',\r\n        params: { query: queryStr || '', groupType: 'COURSE' },\r\n      }),\r\n      providesTags: (result = [], error, arg) =>\r\n        result.map((course) => ({ type: COURSE, id: course.groupId })),\r\n    }),\r\n\r\n    getCourseInfo: builder.query({\r\n      query: (groupId) => ({\r\n        url: '/course/info',\r\n        method: 'GET',\r\n        params: { groupId },\r\n      }),\r\n      providesTags: (result, error, arg) => [{ type: COURSE, id: arg }],\r\n    }),\r\n\r\n    getCourseStudents: builder.query({\r\n      query: (groupId) => ({\r\n        url: '/group/user',\r\n        method: 'GET',\r\n        params: { groupId, role: 'STUDENT' },\r\n      }),\r\n      providesTags: (result = [], error, arg) =>\r\n        result\r\n          .map((student) => ({ type: STUDENT, id: student.userId }))\r\n          .concat([{ type: STUDENT_LIST, id: arg }]),\r\n    }),\r\n\r\n    addNewCourse: builder.mutation({\r\n      query: ({ courseName, timeSlot, lecturerId }) => ({\r\n        url: '/course',\r\n        method: 'POST',\r\n        body: { courseName, timeSlot, lecturerId },\r\n      }),\r\n      invalidatesTags: (result = [], error, arg) => [\r\n        { type: COURSE_LIST, id: arg.lecturerId },\r\n      ],\r\n    }),\r\n\r\n    removeCourse: builder.mutation({\r\n      query: ({ groupId }) => ({\r\n        url: '/group',\r\n        method: 'DELETE',\r\n        params: { groupId },\r\n      }),\r\n      invalidatesTags: (result = [], error, arg) => [\r\n        { type: COURSE, id: arg.groupId },\r\n      ],\r\n    }),\r\n\r\n    changeCourseName: builder.mutation({\r\n      query: ({ groupId, groupName }) => ({\r\n        url: '/group',\r\n        method: 'PUT',\r\n        body: { groupId, groupName },\r\n      }),\r\n      invalidatesTags: (result, error, arg) => [\r\n        { type: COURSE, id: arg.groupId },\r\n      ],\r\n    }),\r\n\r\n    changeCourseTimeSlot: builder.mutation({\r\n      query: ({ groupId, timeSlot }) => ({\r\n        url: '/course/timeslot',\r\n        method: 'PUT',\r\n        body: { groupId, timeSlot },\r\n      }),\r\n      invalidatesTags: (result, error, arg) => [\r\n        { type: COURSE, id: arg.groupId },\r\n      ],\r\n    }),\r\n\r\n    changeCourseLecturer: builder.mutation({\r\n      query: ({ groupId, currentLecturerId, newLecturerId }) => ({\r\n        url: '/course/lecturer',\r\n        method: 'PUT',\r\n        body: { groupId, lecturerId: newLecturerId },\r\n      }),\r\n      invalidatesTags: (result, error, arg) => [\r\n        { type: COURSE, id: arg.groupId },\r\n        { type: COURSE_LIST, id: arg.currentLecturerId },\r\n        { type: COURSE_LIST, id: arg.newLecturerId },\r\n      ],\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const {\r\n  useSearchCoursesMutation,\r\n  useGetCourseInfoQuery,\r\n  useGetCourseStudentsQuery,\r\n  useAddNewCourseMutation,\r\n  useRemoveCourseMutation,\r\n  useChangeCourseNameMutation,\r\n  useChangeCourseTimeSlotMutation,\r\n  useChangeCourseLecturerMutation,\r\n} = extendedApi\r\n","import * as Yup from 'yup'\r\nimport { FastField, Formik } from 'formik'\r\nimport { Modal, Button, Form, Spinner } from 'react-bootstrap'\r\nimport InputField from '../../custom-fields/InputField'\r\n\r\nconst EditFieldModal = ({\r\n  title,\r\n  show,\r\n  handleClose,\r\n  handleSubmit,\r\n  initialValues = '',\r\n  isNumber = false,\r\n}) => {\r\n  const validationSchema = Yup.object().shape({\r\n    singleField: isNumber\r\n      ? Yup.number().required('This field is required.')\r\n      : Yup.string().required('This field is required.'),\r\n  })\r\n\r\n  const onSubmit = async (values, actions) => {\r\n    try {\r\n      await handleSubmit(values.singleField)\r\n      handleClose()\r\n    } catch (e) {\r\n      console.log(e)\r\n      // actions.setFieldError('singleField', e)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{title}</Modal.Title>\r\n      </Modal.Header>\r\n      <Formik\r\n        initialValues={{\r\n          singleField: initialValues,\r\n        }}\r\n        onSubmit={onSubmit}\r\n        validationSchema={validationSchema}\r\n      >\r\n        {(formikProps) => (\r\n          <Form\r\n            noValidate\r\n            onSubmit={formikProps.handleSubmit}\r\n            onReset={formikProps.handleReset}\r\n          >\r\n            <Modal.Body>\r\n              <FastField\r\n                name=\"singleField\"\r\n                component={InputField}\r\n                type={isNumber ? 'number' : 'text'}\r\n              />\r\n            </Modal.Body>\r\n\r\n            <Modal.Footer>\r\n              <Button variant=\"secondary\" onClick={handleClose}>\r\n                Cancel\r\n              </Button>\r\n              <Button variant=\"primary\" type=\"submit\">\r\n                {formikProps.isSubmitting && (\r\n                  <Spinner\r\n                    animation=\"border\"\r\n                    as=\"span\"\r\n                    role=\"status\"\r\n                    size=\"sm\"\r\n                  />\r\n                )}\r\n                Submit\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default EditFieldModal\r\n","import * as Yup from 'yup'\r\nimport { FastField, Formik } from 'formik'\r\nimport { Modal, Button, Form, Spinner } from 'react-bootstrap'\r\nimport InputField from '../../../../components/custom-fields/InputField'\r\nimport AsyncSelectField from '../../../../components/custom-fields/AsyncSelectField'\r\nimport { useSearchLecturersMutation } from '../../../../app/api/user/lecturerSlice'\r\nimport { useAddNewCourseMutation } from '../../../../app/api/group/courseSlice'\r\nimport { setSelectedCourseId } from '../../../../app/pageSlice'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  courseName: Yup.string().required('This field is required.'),\r\n  timeSlot: Yup.number().required('This field is required.'),\r\n  lecturerId: Yup.string().required('This field is required.'),\r\n})\r\n\r\nconst initialValues = {\r\n  courseName: '',\r\n  timeSlot: 0,\r\n  lecturerId: '',\r\n}\r\n\r\nconst CourseAddModal = (props) => {\r\n  const { show, handleClose } = props\r\n  const [triggerSearch] = useSearchLecturersMutation()\r\n  const [triggerAdd] = useAddNewCourseMutation()\r\n  const dispatch = useDispatch()\r\n\r\n  const searchLecturers = async (inputValue) => {\r\n    const lecturers = await triggerSearch(inputValue).unwrap()\r\n    return lecturers.map((lecturer) => ({\r\n      value: lecturer.id,\r\n      label: lecturer.name,\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = async (values) => {\r\n    try {\r\n      const { groupId } = await triggerAdd(values).unwrap()\r\n      handleClose()\r\n      dispatch(setSelectedCourseId(groupId))\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add new course</Modal.Title>\r\n      </Modal.Header>\r\n      <Formik\r\n        initialValues={initialValues}\r\n        onSubmit={handleSubmit}\r\n        validationSchema={validationSchema}\r\n      >\r\n        {(formikProps) => (\r\n          <Form\r\n            noValidate\r\n            onSubmit={formikProps.handleSubmit}\r\n            onReset={formikProps.handleReset}\r\n          >\r\n            <Modal.Body>\r\n              <FastField\r\n                name=\"courseName\"\r\n                component={InputField}\r\n                label=\"New course name\"\r\n                placeholder=\"Intro to computing...\"\r\n              />\r\n              <FastField\r\n                name=\"timeSlot\"\r\n                component={InputField}\r\n                type=\"number\"\r\n                label=\"Time slot\"\r\n                placeholder=\"1-112...\"\r\n              />\r\n              <FastField\r\n                name=\"lecturerId\"\r\n                component={AsyncSelectField}\r\n                loadOptions={searchLecturers}\r\n                label=\"Select lecturer\"\r\n              />\r\n            </Modal.Body>\r\n\r\n            <Modal.Footer>\r\n              <Button variant=\"secondary\" onClick={handleClose}>\r\n                Cancel\r\n              </Button>\r\n              <Button variant=\"primary\" type=\"submit\">\r\n                {formikProps.isSubmitting && (\r\n                  <Spinner\r\n                    animation=\"border\"\r\n                    as=\"span\"\r\n                    role=\"status\"\r\n                    size=\"sm\"\r\n                  />\r\n                )}\r\n                Submit\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default CourseAddModal\r\n","import SearchCard from '../../../../components/SearchCard'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  selectedCourseIdSelector,\r\n  setIsLoading,\r\n  setSelectedCourseId,\r\n} from '../../../../app/pageSlice'\r\nimport { useSearchCoursesMutation } from '../../../../app/api/group/courseSlice'\r\nimport { Fragment, useEffect, useState } from 'react'\r\nimport CourseAddModal from './CourseAddModal'\r\n\r\nconst CourseSearchCard = () => {\r\n  const dispatch = useDispatch()\r\n  const [trigger, query] = useSearchCoursesMutation()\r\n  const { data, isLoading } = query\r\n  const selectedCourseId = useSelector(selectedCourseIdSelector)\r\n  const [addModal, setAddModal] = useState(false)\r\n\r\n  useEffect(() => {\r\n    dispatch(setIsLoading(isLoading))\r\n  }, [isLoading, dispatch])\r\n\r\n  return (\r\n    <Fragment>\r\n      <SearchCard\r\n        label=\"Course\"\r\n        items={data}\r\n        selectedItemKey={selectedCourseId}\r\n        keySelector={(course) => course.groupId}\r\n        nameSelector={(course) => course.groupName}\r\n        showKey={false}\r\n        onSearch={(query) => trigger(query)}\r\n        onAdd={() => setAddModal(true)}\r\n        onSelect={(course) => dispatch(setSelectedCourseId(course.groupId))}\r\n      />\r\n      <CourseAddModal show={addModal} handleClose={() => setAddModal(false)} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default CourseSearchCard\r\n","import { Fragment, useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  useChangeCourseLecturerMutation,\r\n  useChangeCourseNameMutation,\r\n  useChangeCourseTimeSlotMutation,\r\n  useGetCourseInfoQuery,\r\n  useRemoveCourseMutation,\r\n} from '../../../../app/api/group/courseSlice'\r\nimport DetailCard from '../../../../components/DetailCard'\r\nimport {\r\n  selectedCourseIdSelector,\r\n  setIsLoading,\r\n  setSelectedCourseId,\r\n} from '../../../../app/pageSlice'\r\nimport ConfirmationModal from '../../../../components/modals/ConfirmationModal'\r\nimport SelectItemModal from '../../../../components/modals/SelectItemModal'\r\nimport EditFieldModal from '../../../../components/modals/EditFieldModal'\r\nimport { useSearchLecturersMutation } from '../../../../app/api/user/lecturerSlice'\r\n\r\nconst CourseDetailCard = () => {\r\n  const selectedCourseId = useSelector(selectedCourseIdSelector)\r\n  const { data: courseInfo, isFetching } =\r\n    useGetCourseInfoQuery(selectedCourseId)\r\n  const [triggerRemoveCourse] = useRemoveCourseMutation()\r\n  const [triggerRename] = useChangeCourseNameMutation()\r\n  const [triggerChangeLecturer] = useChangeCourseLecturerMutation()\r\n  const [triggerSearchLecturers] = useSearchLecturersMutation()\r\n  const [triggerChangeTimeSlot] = useChangeCourseTimeSlotMutation()\r\n\r\n  const [showRemoveWarning, setShowRemoveWarning] = useState(false)\r\n  const [showRenameModal, setShowRenameModal] = useState(false)\r\n  const [showChangeLecturerModal, setShowChangeLecturerModal] = useState(false)\r\n  const [showChangeTimeSlotModal, setShowChangeTimeSlotModal] = useState(false)\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    if (isFetching) {\r\n      dispatch(setIsLoading(true))\r\n    } else {\r\n      dispatch(setIsLoading(false))\r\n    }\r\n  }, [isFetching, dispatch])\r\n\r\n  if (isFetching) {\r\n    return <></>\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <DetailCard\r\n        label=\"Course\"\r\n        fields={[\r\n          { label: 'Group name', content: courseInfo.courseName },\r\n          { label: 'Group ID', content: courseInfo.groupId },\r\n          { label: 'Timeslot', content: courseInfo.timeSlot },\r\n        ]}\r\n        links={[\r\n          {\r\n            label: 'Lecturer',\r\n            content: courseInfo.lecturerName,\r\n            destination: `/lecturer/${courseInfo.lecturerId}`,\r\n          },\r\n        ]}\r\n        buttons={[\r\n          {\r\n            label: 'Rename course',\r\n            onClick: () => {\r\n              setShowRenameModal(true)\r\n            },\r\n          },\r\n          {\r\n            label: 'Change timeslot',\r\n            onClick: () => {\r\n              setShowChangeTimeSlotModal(true)\r\n            },\r\n          },\r\n          {\r\n            label: 'Change lecturer',\r\n            onClick: () => {\r\n              setShowChangeLecturerModal(true)\r\n            },\r\n          },\r\n          {\r\n            label: 'Remove course',\r\n            onClick: () => {\r\n              setShowRemoveWarning(true)\r\n            },\r\n          },\r\n        ]}\r\n      />\r\n      <EditFieldModal\r\n        title=\"Change course name\"\r\n        show={showRenameModal}\r\n        handleClose={() => {\r\n          setShowRenameModal(false)\r\n        }}\r\n        handleSubmit={async (newGroupName) => {\r\n          await triggerRename({\r\n            groupId: courseInfo.groupId,\r\n            groupName: newGroupName,\r\n          })\r\n        }}\r\n        initialValues={courseInfo.courseName}\r\n      />\r\n      <EditFieldModal\r\n        title=\"Change course timeslot\"\r\n        show={showChangeTimeSlotModal}\r\n        handleClose={() => {\r\n          setShowChangeTimeSlotModal(false)\r\n        }}\r\n        handleSubmit={async (newTimeSlot) => {\r\n          await triggerChangeTimeSlot({\r\n            groupId: courseInfo.groupId,\r\n            timeSlot: newTimeSlot,\r\n          })\r\n        }}\r\n        initialValues={courseInfo.timeSlot}\r\n        isNumber\r\n      />\r\n      <SelectItemModal\r\n        title=\"Change lecturer\"\r\n        show={showChangeLecturerModal}\r\n        handleClose={() => {\r\n          setShowChangeLecturerModal(false)\r\n        }}\r\n        handleSubmit={async (newLecturerId) => {\r\n          await triggerChangeLecturer({\r\n            groupId: courseInfo.groupId,\r\n            currentLecturerId: courseInfo.lecturerId,\r\n            newLecturerId,\r\n          })\r\n        }}\r\n        handleSearchItems={async (query) => {\r\n          const lecturers = await triggerSearchLecturers(query).unwrap()\r\n          return lecturers.map((lecturer) => ({\r\n            value: lecturer.id,\r\n            label: lecturer.name,\r\n          }))\r\n        }}\r\n      />\r\n      <ConfirmationModal\r\n        title=\"Remove course?\"\r\n        content=\"All students will be removed from this course too.\"\r\n        show={showRemoveWarning}\r\n        handleClose={() => setShowRemoveWarning(false)}\r\n        handleSubmit={async () => {\r\n          dispatch(setSelectedCourseId(null))\r\n          await triggerRemoveCourse({ groupId: courseInfo.groupId }).unwrap()\r\n        }}\r\n      />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default CourseDetailCard\r\n","import { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useGetCourseStudentsQuery } from '../../../../app/api/group/courseSlice'\r\nimport {\r\n  useAddStudentCourseMutation,\r\n  useRemoveStudentCourseMutation,\r\n  useSearchStudentsMutation,\r\n} from '../../../../app/api/user/studentSlice'\r\nimport { setIsLoading } from '../../../../app/pageSlice'\r\nimport ListCard from '../../../../components/ListCard'\r\n\r\nconst CourseListCard = ({ selectedCourseId }) => {\r\n  const { data: students, isFetching } =\r\n    useGetCourseStudentsQuery(selectedCourseId)\r\n  const dispatch = useDispatch()\r\n  const [triggerRemoveStudent] = useRemoveStudentCourseMutation()\r\n  const [triggerAddStudent] = useAddStudentCourseMutation()\r\n  const [triggerSearchStudent] = useSearchStudentsMutation()\r\n\r\n  useEffect(() => {\r\n    if (isFetching) {\r\n      dispatch(setIsLoading(true))\r\n    } else {\r\n      dispatch(setIsLoading(false))\r\n    }\r\n  }, [isFetching, dispatch])\r\n\r\n  if (isFetching) {\r\n    return <></>\r\n  }\r\n\r\n  return (\r\n    <ListCard\r\n      label=\"Student\"\r\n      items={students}\r\n      keySelector={(student) => student.userId}\r\n      nameSelector={(student) => student.userName}\r\n      linkSelector={(student) => `/student/${student.userId}`}\r\n      showButtons={true}\r\n      handleRemove={async (student) => {\r\n        await triggerRemoveStudent({\r\n          userId: student.id,\r\n          groupId: selectedCourseId,\r\n        }).unwrap()\r\n      }}\r\n      handleAdd={async (studentId) => {\r\n        await triggerAddStudent({\r\n          userId: studentId,\r\n          groupId: selectedCourseId,\r\n        }).unwrap()\r\n      }}\r\n      handleSearchItems={async (query) => {\r\n        const students = await triggerSearchStudent(query).unwrap()\r\n        return students.map((student) => ({\r\n          value: student.id,\r\n          label: student.name,\r\n        }))\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\nexport default CourseListCard\r\n","import useItemParam from '../../hooks/useItemParam'\r\nimport {\r\n  selectedCourseIdSelector,\r\n  setSelectedCourseId,\r\n} from '../../app/pageSlice'\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport CourseSearchCard from './components/CourseSearchCard'\r\nimport CourseDetailCard from './components/CourseDetailCard'\r\nimport CourseListCard from './components/CourseListCard'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst CoursePage = () => {\r\n  const dispatch = useDispatch()\r\n  const selectedCourseId = useSelector(selectedCourseIdSelector)\r\n\r\n  useItemParam({\r\n    selectedItemId: selectedCourseId,\r\n    setSelectedItemId: (courseId) => {\r\n      dispatch(setSelectedCourseId(courseId))\r\n    },\r\n  })\r\n\r\n  return (\r\n    <Row className=\"justify-content-md-center my-3\">\r\n      <Col md=\"3\">\r\n        <CourseSearchCard />\r\n      </Col>\r\n      {selectedCourseId ? (\r\n        <>\r\n          <Col md=\"4\">\r\n            <CourseDetailCard selectedCourseId={selectedCourseId} />\r\n          </Col>\r\n          <Col md=\"4\">\r\n            <CourseListCard selectedCourseId={selectedCourseId} />\r\n          </Col>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Col md=\"4\"></Col>\r\n          <Col md=\"4\"></Col>\r\n        </>\r\n      )}\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default CoursePage\r\n"],"sourceRoot":""}